<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Delta1037</title>
  
  <subtitle>技术是纯净的</subtitle>
  <link href="https://www.delta1037.cn/atom.xml" rel="self"/>
  
  <link href="https://www.delta1037.cn/"/>
  <updated>2023-02-12T07:50:51.605Z</updated>
  <id>https://www.delta1037.cn/</id>
  
  <author>
    <name>delta1037</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Row size too large (&gt; 8126)</title>
    <link href="https://www.delta1037.cn/2023/Bugsfix/Rowsizetoolarge(-8126)/"/>
    <id>https://www.delta1037.cn/2023/Bugsfix/Rowsizetoolarge(-8126)/</id>
    <published>2023-02-11T16:00:00.000Z</published>
    <updated>2023-02-12T07:50:51.605Z</updated>
    
    <content type="html"><![CDATA[<p>MySQL表新增字段时，出现报错：<code>Row size too large (&gt; 8126). Changing some columns to TEXT or BLOB or using ROW_FORMAT=DYNAMIC or ROW_FORMAT=COMPRESSED may help</code></p><span id="more"></span><h1 id="一、信息"><a href="#一、信息" class="headerlink" title="一、信息"></a>一、信息</h1><h2 id="1-1-环境"><a href="#1-1-环境" class="headerlink" title="1.1 环境"></a>1.1 环境</h2><p>给数据表添加一个新的字段。该数据表已经有很多字段了，并且一行的字节长度远大于8126。</p><blockquote><p>在本地搭建的MySQL5.7环境上新增字段并没有出错，所以是远程MySQL版本出现的问题。猜测是innodb_file_format并没有设置成正确格式。</p></blockquote><h2 id="1-2-报错"><a href="#1-2-报错" class="headerlink" title="1.2 报错"></a>1.2 报错</h2><blockquote><p>Row size too large (&gt; 8126). Changing some columns to TEXT or BLOB or using ROW_FORMAT&#x3D;DYNAMIC or ROW_FORMAT&#x3D;COMPRESSED may help</p></blockquote><h1 id="二、解决"><a href="#二、解决" class="headerlink" title="二、解决"></a>二、解决</h1><p><strong>免重启服务式解决：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; <span class="built_in">set</span> GLOBAL innodb_file_per_table = ON;</span><br><span class="line">mysql&gt; <span class="built_in">set</span> GLOBAL innodb_file_format = barracuda;</span><br></pre></td></tr></table></figure><h1 id="三、分析"><a href="#三、分析" class="headerlink" title="三、分析"></a>三、分析</h1><p><strong>InnoDB格式问题：</strong></p><ul><li>InnoDB目前支持两种命名文件格式，Antelope 和Barracuda。<ul><li>Antelope是原始 InnoDB文件格式，以前没有名称。它支持表的COMPACT和REDUNDANT行格式InnoDB</li><li>Barracuda是最新的文件格式。它支持所有InnoDB行格式，包括较新的COMPRESSED和 DYNAMIC行格式。与 COMPRESSED和 DYNAMIC行格式相关的特性包括压缩表、页外列的高效存储以及高达 3072 字节的索引键前缀 ( innodb_large_prefix)</li></ul></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 检查表的文件格式和行格式 命令</span></span><br><span class="line">SELECT * FROM INFORMATION_SCHEMA.INNODB_SYS_TABLES;</span><br></pre></td></tr></table></figure><p><strong>MySQL硬性条件：</strong></p><p>65535 bytes is the max row size for mysql.</p><p><strong>问题分析：</strong></p><p>根据问题的提示，原因肯定是表中的字段长度和超了，所以按照修改提示，将ROW_FORMAT修改为COMPRESSED或者DYNAMIC，但又只有Barracuda文件格式支持，所以先通过<code>set GLOBAL innodb_file_format = barracuda;</code>将InnoDB格式修改，再修改表的ROW_FORMAT格式即可。</p><p><strong>总结：</strong></p><p>本地使用的版本是MySQL5.7，部署服务器版本是MySQL5.6，通过上面的<code>检查表的文件格式和行格式</code>命令，可以看到本地的InnoDB默认格式就是Barracuda，而远程除一个被修改的表之外，其它的全是Antelope格式，所以出现报错就是<font color="#D44C47"><strong>InnoDB格式和ROW_FORMAT格式导致的</strong></font>。</p><h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="https://dev.mysql.com/doc/refman/5.7/en/innodb-file-format.html">BOOKMARK</a></p><p><a href="https://dev.mysql.com/doc/refman/5.7/en/innodb-row-format.html">BOOKMARK</a></p><p><a href="https://blog.51cto.com/u_4708705/2050345">BOOKMARK</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;MySQL表新增字段时，出现报错：&lt;code&gt;Row size too large (&amp;gt; 8126). Changing some columns to TEXT or BLOB or using ROW_FORMAT=DYNAMIC or ROW_FORMAT=COMPRESSED may help&lt;/code&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Bugsfix" scheme="https://www.delta1037.cn/categories/Bugsfix/"/>
    
    
    <category term="Bug" scheme="https://www.delta1037.cn/tags/Bug/"/>
    
    <category term="MySQL" scheme="https://www.delta1037.cn/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>hexo 新增mermaid支持</title>
    <link href="https://www.delta1037.cn/2023/Deploy/hexo%E6%96%B0%E5%A2%9Emermaid%E6%94%AF%E6%8C%81/"/>
    <id>https://www.delta1037.cn/2023/Deploy/hexo%E6%96%B0%E5%A2%9Emermaid%E6%94%AF%E6%8C%81/</id>
    <published>2023-02-06T16:00:00.000Z</published>
    <updated>2023-02-12T07:50:51.197Z</updated>
    
    <content type="html"><![CDATA[<p>趁着博客整合，修理一下mermaid不支持的问题。</p><p>从网上找到了一些教程，但是配置过程中也发现了一些问题，所以在这里记录一下。</p><span id="more"></span><h1 id="一、安装"><a href="#一、安装" class="headerlink" title="一、安装"></a>一、安装</h1><p>安装插件：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo<span class="literal">-filter-mermaid-diagrams</span></span><br></pre></td></tr></table></figure><p>添加配置。在<strong>主题目录</strong>下的<code>_config.yml</code>文件中新增配置：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mermaid chart</span></span><br><span class="line">mermaid: <span class="comment">## mermaid url https://github.com/knsv/mermaid</span></span><br><span class="line">  enable: true  <span class="comment"># default true</span></span><br><span class="line">  version: <span class="string">&quot;7.1.2&quot;</span> <span class="comment"># default v7.1.2</span></span><br><span class="line">  options:  <span class="comment"># find more api options from https://github.com/knsv/mermaid/blob/master/src/mermaidAPI.js</span></span><br><span class="line">    <span class="comment">#startOnload: true  // default true</span></span><br></pre></td></tr></table></figure><p>添加支持。我使用的BuleLake主题<code>js</code>后缀是<code>.ejs</code>（其它类型（<code>.pug</code>、<code>.swig</code>）参考<a href="https://github.com/webappdevelp/hexo-filter-mermaid-diagrams">Github说明</a>），在<code>themes\bluelake\layout\_partial\</code>**<code>after-footer.ejs</code>**中添加如下内容</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;% <span class="keyword">if</span> (theme.mermaid.enable) &#123; %&gt;</span><br><span class="line">  &lt;script src=<span class="string">&#x27;https://unpkg.com/mermaid@&lt;%= theme.mermaid.version %&gt;/dist/mermaid.min.js&#x27;</span>&gt;&lt;/script&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    <span class="keyword">if</span> (window.mermaid) &#123;</span><br><span class="line">      mermaid.initialize(&#123;theme: <span class="string">&#x27;forest&#x27;</span>&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><h1 id="二、使用"><a href="#二、使用" class="headerlink" title="二、使用"></a>二、使用</h1><p><a href="https://mermaid.js.org/config/theming.html">主题类型</a>：（在上面修改文件时配置）：</p><ul><li><strong>default</strong> - This is the default theme for all diagrams.</li><li><strong>neutral</strong> - This theme is great for black and white documents that will be printed.</li><li><strong>dark</strong> - This theme goes well with dark-colored elements or dark-mode.</li><li><strong>forest</strong> - This theme contains shades of green.</li><li><strong>base</strong> - This is the only theme that can be modified. Use this theme as the base for customizations.</li></ul><h1 id="三、注意"><a href="#三、注意" class="headerlink" title="三、注意"></a>三、注意</h1><ul><li>mermaid新增配置是修改的主题目录下的文件</li><li>需要将根目录配置<code>_config.yml</code>中<code>highlight</code>下的<code>auto_detect</code>设置为<code>true</code></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;趁着博客整合，修理一下mermaid不支持的问题。&lt;/p&gt;
&lt;p&gt;从网上找到了一些教程，但是配置过程中也发现了一些问题，所以在这里记录一下。&lt;/p&gt;</summary>
    
    
    
    <category term="博客搭建" scheme="https://www.delta1037.cn/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
    
    <category term="博客搭建" scheme="https://www.delta1037.cn/tags/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
    <category term="部署" scheme="https://www.delta1037.cn/tags/%E9%83%A8%E7%BD%B2/"/>
    
  </entry>
  
  <entry>
    <title>博客更新说明</title>
    <link href="https://www.delta1037.cn/2023/Deploy/%E5%8D%9A%E5%AE%A2%E6%9B%B4%E6%96%B0%E8%AF%B4%E6%98%8E/"/>
    <id>https://www.delta1037.cn/2023/Deploy/%E5%8D%9A%E5%AE%A2%E6%9B%B4%E6%96%B0%E8%AF%B4%E6%98%8E/</id>
    <published>2023-02-06T16:00:00.000Z</published>
    <updated>2023-02-12T07:50:51.193Z</updated>
    
    <content type="html"><![CDATA[<p>博客最近整合到了notion统一管理，并更新了hexo和主题版本，正在逐个完善并重新上传之前的博客内容</p><span id="more"></span><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Deploy_%E5%8D%9A%E5%AE%A2%E6%9B%B4%E6%96%B0%E8%AF%B4%E6%98%8E_notion%E7%BB%9F%E4%B8%80%E7%AE%A1%E7%90%86%E6%96%87%E7%AB%A0.png" alt="notion统一管理文章"></p><ul><li>文章搬运基本完成，删除了一些未完成的文章，之后再挨着整理一下格式即可</li><li>notion上的文章之后会拣比较好的搬运到这边来</li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;博客最近整合到了notion统一管理，并更新了hexo和主题版本，正在逐个完善并重新上传之前的博客内容&lt;/p&gt;</summary>
    
    
    
    <category term="博客搭建" scheme="https://www.delta1037.cn/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
    
    <category term="博客搭建" scheme="https://www.delta1037.cn/tags/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
    <category term="部署" scheme="https://www.delta1037.cn/tags/%E9%83%A8%E7%BD%B2/"/>
    
  </entry>
  
  <entry>
    <title>Latex fontspec Error</title>
    <link href="https://www.delta1037.cn/2023/Bugsfix/LatexfontspecError/"/>
    <id>https://www.delta1037.cn/2023/Bugsfix/LatexfontspecError/</id>
    <published>2023-02-05T16:00:00.000Z</published>
    <updated>2023-02-12T07:50:51.188Z</updated>
    
    <content type="html"><![CDATA[<p>latex编译时，出现报错<code>! Package fontspec Error: The font &quot;Microsoft YaHei&quot; cannot be found.</code></p><p>排查问题记录与问题的思考。</p><span id="more"></span><h1 id="一、环境"><a href="#一、环境" class="headerlink" title="一、环境"></a>一、环境</h1><ul><li>window11</li><li>texlive 2022</li><li>一份带有中文的tex文件  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 中文环境配置</span></span><br><span class="line">\usepackage[UTF8]&#123;ctex&#125;</span><br></pre></td></tr></table></figure></li></ul><h1 id="二、问题"><a href="#二、问题" class="headerlink" title="二、问题"></a>二、问题</h1><p>在执行<code>xelatex *.tex</code>时，出现如下报错：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Package biblatex Warning: <span class="string">&#x27;babel/polyglossia&#x27;</span> detected but <span class="string">&#x27;csquotes&#x27;</span> missing.</span><br><span class="line">(biblatex)                Loading <span class="string">&#x27;csquotes&#x27;</span> recommended.</span><br><span class="line"></span><br><span class="line">(e:/texlive/2022/texmf-dist/tex/latex/newpx/TeXGyrePagellaX.fontspec)</span><br><span class="line">(./main.aux)</span><br><span class="line">*geometry* driver: auto-detecting</span><br><span class="line">*geometry* detected driver: xetex</span><br><span class="line">(e:/texlive/2022/texmf-dist/tex/latex/biblatex/lbx/english.lbx)</span><br><span class="line">No file main.bbl.</span><br><span class="line"></span><br><span class="line">Package hyperref Warning: Rerun to get /PageLabels entry.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">! Package fontspec Error: The font <span class="string">&quot;Microsoft YaHei&quot;</span> cannot be found.</span><br><span class="line"></span><br><span class="line">For immediate <span class="built_in">help</span> <span class="built_in">type</span> H &lt;<span class="built_in">return</span>&gt;.</span><br><span class="line"> ...</span><br><span class="line"></span><br><span class="line">l.79 ...sep=1cm]&#123;\Huge\centering\bfseries\sffamily</span><br><span class="line">                                                  \parbox[c][][t]&#123;\paperwidt...</span><br><span class="line"></span><br><span class="line">?</span><br></pre></td></tr></table></figure><p>已知该字体已安装（解决过程中也重装该字体很多次）</p><h1 id="三、解决"><a href="#三、解决" class="headerlink" title="三、解决"></a>三、解决</h1><p>看到<code>! Package fontspec Error: The font &quot;Microsoft YaHei&quot; cannot be found</code>时，判断为字体没有识别，于是尝试重装该字体，重新加载字体缓存等操作，均无效（搞了一下午的字体问题，还把window10上的字体拷贝过来重新安装了）。</p><p>恰好手边有另一份带有中文的tex源文件（并不知道其中是如何配置的中文环境，只是有试一试的想法），于是尝试编译，结果成功了。</p><p><strong>那么报字体问题的错误，问题根源是否出在字体问题上呢？</strong>再回顾模板的下载和修改过程，发现有一段数学符号包是后来添加的：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\usepackage</span>&#123;esint&#125;</span><br><span class="line"><span class="keyword">\newcommand</span>&#123;<span class="keyword">\gt</span>&#125;&#123;<span class="keyword">\textgreater</span>&#125;</span><br><span class="line"><span class="keyword">\newcommand</span>&#123;<span class="keyword">\lt</span>&#125;&#123;<span class="keyword">\textless</span>&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;euler&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;newpxtext&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;amsmath&#125;</span><br></pre></td></tr></table></figure><p>使用排除法（将上面所有的包全注释掉，一个一个添加），发现是<code>newpxtext</code>的问题，去掉该包之后，执行<code>xelatex *.tex</code>时，没有再出现报错。</p><h1 id="四、思考"><a href="#四、思考" class="headerlink" title="四、思考"></a>四、思考</h1><p>虽然终端显示的是字体问题，但是当字体确实没有问题的时候，就要<strong>考虑别的方向，做一些并行测试来对比分析</strong>（例如上面在另外一份类似的tex工程中尝试编译）。</p><p>另外要<strong>仔细分析日志</strong>，再看日志最后一部分时，可以看到有以下疑点：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">(e:/texlive/<span class="number">2022</span>/texmf<span class="literal">-dist</span>/tex/latex/realscripts/realscripts.sty))</span><br><span class="line"></span><br><span class="line">Package biblatex Warning: <span class="string">&#x27;babel/polyglossia&#x27;</span> detected but <span class="string">&#x27;csquotes&#x27;</span> missing.</span><br><span class="line">(biblatex)                Loading <span class="string">&#x27;csquotes&#x27;</span> recommended.</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1、这里出现的最后的包是newpx，就是newpxtext</span></span><br><span class="line">(e:/texlive/<span class="number">2022</span>/texmf<span class="literal">-dist</span>/tex/latex/&lt;font color=<span class="string">&quot;#D44C47&quot;</span>&gt;**newpx**&lt;/font&gt;/TeXGyrePagellaX.fontspec)</span><br><span class="line"><span class="comment"># 2、这里来看，有几个包含中文的文件都已经通过了，所以有可能不是字体问题</span></span><br><span class="line">&lt;font color=<span class="string">&quot;#D44C47&quot;</span>&gt;(./main.aux (./sub_chapter/<span class="number">01</span><span class="literal">-basic_block</span>.aux)</span><br><span class="line">(./sub_chapter/<span class="number">02</span><span class="literal">-advance_block</span>.aux) (./sub_chapter/<span class="number">03</span><span class="literal">-database</span>.aux)</span><br><span class="line">(./sub_chapter/<span class="number">04</span><span class="literal">-multi_media</span>.aux) (./sub_chapter/<span class="number">05</span><span class="literal">-insert_block</span>.aux)</span><br><span class="line">(./sub_chapter/<span class="number">06</span><span class="literal">-rich_text</span>.aux) (./sub_chapter/<span class="number">07</span><span class="literal">-database_op</span>.aux)</span><br><span class="line">(./sub_chapter/<span class="number">08</span><span class="literal">-database_formula</span>.aux))&lt;/font&gt;</span><br><span class="line">*geometry* driver: auto<span class="literal">-detecting</span></span><br><span class="line">*geometry* detected driver: xetex</span><br><span class="line">(e:/texlive/<span class="number">2022</span>/texmf<span class="literal">-dist</span>/tex/latex/biblatex/lbx/english.lbx)</span><br><span class="line">No file main.bbl.</span><br><span class="line"></span><br><span class="line">! Package fontspec Error: The font <span class="string">&quot;Microsoft YaHei&quot;</span> cannot be found.</span><br><span class="line"></span><br><span class="line"><span class="keyword">For</span> immediate help <span class="built_in">type</span> <span class="built_in">H</span> &lt;<span class="keyword">return</span>&gt;.</span><br><span class="line"> ...</span><br><span class="line"></span><br><span class="line">l.<span class="number">79</span> ...sep=<span class="number">1</span>cm]&#123;\Huge\centering\bfseries\sffamily</span><br><span class="line">                                                  \parbox[<span class="type">c</span>][][<span class="type">t</span>]&#123;\paperwidt...</span><br><span class="line"></span><br><span class="line">?</span><br></pre></td></tr></table></figure><p>完整的输出日志：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> F:\GitHubRepo\LatexBook\Notion_handout_latex&gt; xelatex main</span><br><span class="line">This is XeTeX, Version <span class="number">3.141592653</span><span class="literal">-2</span>.<span class="number">6</span><span class="literal">-0</span>.<span class="number">999994</span> (TeX Live <span class="number">2022</span>) (preloaded format=xelatex)</span><br><span class="line"> restricted \write18 enabled.</span><br><span class="line">entering extended mode</span><br><span class="line">(./main.tex</span><br><span class="line">LaTeX2e &lt;<span class="number">2022</span><span class="literal">-11-01</span>&gt; patch level <span class="number">1</span></span><br><span class="line">L3 programming layer &lt;<span class="number">2023</span><span class="literal">-02-02</span>&gt;</span><br><span class="line">(e:/texlive/<span class="number">2022</span>/texmf<span class="literal">-dist</span>/tex/latex/base/book.cls</span><br><span class="line">Document <span class="class"><span class="keyword">Class</span>: <span class="title">book</span> 2022/07/02 <span class="title">v1</span>.4<span class="title">n</span> <span class="title">Standard</span> <span class="title">LaTeX</span> <span class="title">document</span> <span class="title">class</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">base</span>/<span class="title">fleqn</span>.<span class="title">clo</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">base</span>/<span class="title">bk11</span>.<span class="title">clo</span>)) (./<span class="title">structure</span>.<span class="title">tex</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">graphics</span>/<span class="title">graphicx</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">graphics</span>/<span class="title">keyval</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">graphics</span>/<span class="title">graphics</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">graphics</span>/<span class="title">trig</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">graphics</span>-<span class="title">cfg</span>/<span class="title">graphics</span>.<span class="title">cfg</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">graphics</span>-<span class="title">def</span>/<span class="title">xetex</span>.<span class="title">def</span>)))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">lipsum</span>/<span class="title">lipsum</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">l3packages</span>/<span class="title">l3keys2e</span>/<span class="title">l3keys2e</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">l3kernel</span>/<span class="title">expl3</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">l3backend</span>/<span class="title">l3backend</span>-<span class="title">xetex</span>.<span class="title">def</span>)))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">lipsum</span>/<span class="title">lipsum</span>.<span class="title">ltd</span>.<span class="title">tex</span>))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">pgf</span>/<span class="title">frontendlayer</span>/<span class="title">tikz</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">pgf</span>/<span class="title">basiclayer</span>/<span class="title">pgf</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">pgf</span>/<span class="title">utilities</span>/<span class="title">pgfrcs</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">utilities</span>/<span class="title">pgfutil</span>-<span class="title">common</span>.<span class="title">tex</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">utilities</span>/<span class="title">pgfutil</span>-<span class="title">latex</span>.<span class="title">def</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">utilities</span>/<span class="title">pgfrcs</span>.<span class="title">code</span>.<span class="title">tex</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">pgf</span>.<span class="title">revision</span>.<span class="title">tex</span>)))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">pgf</span>/<span class="title">basiclayer</span>/<span class="title">pgfcore</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">pgf</span>/<span class="title">systemlayer</span>/<span class="title">pgfsys</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">systemlayer</span>/<span class="title">pgfsys</span>.<span class="title">code</span>.<span class="title">tex</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">utilities</span>/<span class="title">pgfkeys</span>.<span class="title">code</span>.<span class="title">tex</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">utilities</span>/<span class="title">pgfkeyslibraryfiltered</span>.<span class="title">co</span></span></span><br><span class="line"><span class="class"><span class="title">de</span>.<span class="title">tex</span>)) (<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">systemlayer</span>/<span class="title">pgf</span>.<span class="title">cfg</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">systemlayer</span>/<span class="title">pgfsys</span>-<span class="title">xetex</span>.<span class="title">def</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">systemlayer</span>/<span class="title">pgfsys</span>-<span class="title">dvipdfmx</span>.<span class="title">def</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">systemlayer</span>/<span class="title">pgfsys</span>-<span class="title">common</span>-<span class="title">pdf</span>.<span class="title">def</span>))</span></span><br><span class="line"><span class="class">))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">systemlayer</span>/<span class="title">pgfsyssoftpath</span>.<span class="title">code</span>.<span class="title">tex</span></span></span><br><span class="line"><span class="class">)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">systemlayer</span>/<span class="title">pgfsysprotocol</span>.<span class="title">code</span>.<span class="title">tex</span></span></span><br><span class="line"><span class="class">)) (<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">xcolor</span>/<span class="title">xcolor</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">graphics</span>-<span class="title">cfg</span>/<span class="title">color</span>.<span class="title">cfg</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">graphics</span>/<span class="title">mathcolor</span>.<span class="title">ltx</span>))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">basiclayer</span>/<span class="title">pgfcore</span>.<span class="title">code</span>.<span class="title">tex</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">math</span>/<span class="title">pgfmath</span>.<span class="title">code</span>.<span class="title">tex</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">math</span>/<span class="title">pgfmathutil</span>.<span class="title">code</span>.<span class="title">tex</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">math</span>/<span class="title">pgfmathparser</span>.<span class="title">code</span>.<span class="title">tex</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">math</span>/<span class="title">pgfmathfunctions</span>.<span class="title">code</span>.<span class="title">tex</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">math</span>/<span class="title">pgfmathfunctions</span>.<span class="title">basic</span>.<span class="title">code</span>.<span class="title">te</span></span></span><br><span class="line"><span class="class"><span class="title">x</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">math</span>/<span class="title">pgfmathfunctions</span>.<span class="title">trigonometric</span></span></span><br><span class="line"><span class="class">.<span class="title">code</span>.<span class="title">tex</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">math</span>/<span class="title">pgfmathfunctions</span>.<span class="title">random</span>.<span class="title">code</span>.<span class="title">t</span></span></span><br><span class="line"><span class="class"><span class="title">ex</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">math</span>/<span class="title">pgfmathfunctions</span>.<span class="title">comparison</span>.<span class="title">co</span></span></span><br><span class="line"><span class="class"><span class="title">de</span>.<span class="title">tex</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">math</span>/<span class="title">pgfmathfunctions</span>.<span class="title">base</span>.<span class="title">code</span>.<span class="title">tex</span></span></span><br><span class="line"><span class="class">)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">math</span>/<span class="title">pgfmathfunctions</span>.<span class="title">round</span>.<span class="title">code</span>.<span class="title">te</span></span></span><br><span class="line"><span class="class"><span class="title">x</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">math</span>/<span class="title">pgfmathfunctions</span>.<span class="title">misc</span>.<span class="title">code</span>.<span class="title">tex</span></span></span><br><span class="line"><span class="class">)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">math</span>/<span class="title">pgfmathfunctions</span>.<span class="title">integerarithm</span></span></span><br><span class="line"><span class="class"><span class="title">etics</span>.<span class="title">code</span>.<span class="title">tex</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">math</span>/<span class="title">pgfmathcalc</span>.<span class="title">code</span>.<span class="title">tex</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">math</span>/<span class="title">pgfmathfloat</span>.<span class="title">code</span>.<span class="title">tex</span>))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">math</span>/<span class="title">pgfint</span>.<span class="title">code</span>.<span class="title">tex</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">basiclayer</span>/<span class="title">pgfcorepoints</span>.<span class="title">code</span>.<span class="title">tex</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">basiclayer</span>/<span class="title">pgfcorepathconstruct</span>.<span class="title">cod</span></span></span><br><span class="line"><span class="class"><span class="title">e</span>.<span class="title">tex</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">basiclayer</span>/<span class="title">pgfcorepathusage</span>.<span class="title">code</span>.<span class="title">te</span></span></span><br><span class="line"><span class="class"><span class="title">x</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">basiclayer</span>/<span class="title">pgfcorescopes</span>.<span class="title">code</span>.<span class="title">tex</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">basiclayer</span>/<span class="title">pgfcoregraphicstate</span>.<span class="title">code</span></span></span><br><span class="line"><span class="class">.<span class="title">tex</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">basiclayer</span>/<span class="title">pgfcoretransformations</span>.<span class="title">c</span></span></span><br><span class="line"><span class="class"><span class="title">ode</span>.<span class="title">tex</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">basiclayer</span>/<span class="title">pgfcorequick</span>.<span class="title">code</span>.<span class="title">tex</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">basiclayer</span>/<span class="title">pgfcoreobjects</span>.<span class="title">code</span>.<span class="title">tex</span>)</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">basiclayer</span>/<span class="title">pgfcorepathprocessing</span>.<span class="title">co</span></span></span><br><span class="line"><span class="class"><span class="title">de</span>.<span class="title">tex</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">basiclayer</span>/<span class="title">pgfcorearrows</span>.<span class="title">code</span>.<span class="title">tex</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">basiclayer</span>/<span class="title">pgfcoreshade</span>.<span class="title">code</span>.<span class="title">tex</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">basiclayer</span>/<span class="title">pgfcoreimage</span>.<span class="title">code</span>.<span class="title">tex</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">basiclayer</span>/<span class="title">pgfcoreexternal</span>.<span class="title">code</span>.<span class="title">tex</span></span></span><br><span class="line"><span class="class">) (<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">basiclayer</span>/<span class="title">pgfcorelayers</span>.<span class="title">code</span>.<span class="title">tex</span></span></span><br><span class="line"><span class="class">)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">basiclayer</span>/<span class="title">pgfcoretransparency</span>.<span class="title">code</span></span></span><br><span class="line"><span class="class">.<span class="title">tex</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">basiclayer</span>/<span class="title">pgfcorepatterns</span>.<span class="title">code</span>.<span class="title">tex</span></span></span><br><span class="line"><span class="class">) (<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">basiclayer</span>/<span class="title">pgfcorerdf</span>.<span class="title">code</span>.<span class="title">tex</span>)))</span></span><br><span class="line"><span class="class"> (<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">modules</span>/<span class="title">pgfmoduleshapes</span>.<span class="title">code</span>.<span class="title">tex</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">modules</span>/<span class="title">pgfmoduleplot</span>.<span class="title">code</span>.<span class="title">tex</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">pgf</span>/<span class="title">compatibility</span>/<span class="title">pgfcomp</span>-<span class="title">version</span>-0-65.<span class="title">st</span></span></span><br><span class="line"><span class="class"><span class="title">y</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">pgf</span>/<span class="title">compatibility</span>/<span class="title">pgfcomp</span>-<span class="title">version</span>-1-18.<span class="title">st</span></span></span><br><span class="line"><span class="class"><span class="title">y</span>)) (<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">pgf</span>/<span class="title">utilities</span>/<span class="title">pgffor</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">pgf</span>/<span class="title">utilities</span>/<span class="title">pgfkeys</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">utilities</span>/<span class="title">pgfkeys</span>.<span class="title">code</span>.<span class="title">tex</span>))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">pgf</span>/<span class="title">math</span>/<span class="title">pgfmath</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">math</span>/<span class="title">pgfmath</span>.<span class="title">code</span>.<span class="title">tex</span>))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">utilities</span>/<span class="title">pgffor</span>.<span class="title">code</span>.<span class="title">tex</span>))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">frontendlayer</span>/<span class="title">tikz</span>/<span class="title">tikz</span>.<span class="title">code</span>.<span class="title">tex</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">libraries</span>/<span class="title">pgflibraryplothandlers</span>.<span class="title">co</span></span></span><br><span class="line"><span class="class"><span class="title">de</span>.<span class="title">tex</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">modules</span>/<span class="title">pgfmodulematrix</span>.<span class="title">code</span>.<span class="title">tex</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pgf</span>/<span class="title">frontendlayer</span>/<span class="title">tikz</span>/<span class="title">libraries</span>/<span class="title">tikzli</span></span></span><br><span class="line"><span class="class"><span class="title">brarytopaths</span>.<span class="title">code</span>.<span class="title">tex</span>)))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">babel</span>/<span class="title">babel</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">babel</span>/<span class="title">xebabel</span>.<span class="title">def</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">babel</span>-<span class="title">english</span>/<span class="title">english</span>.<span class="title">ldf</span>))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">babel</span>/<span class="title">locale</span>/<span class="title">en</span>/<span class="title">babel</span>-<span class="title">english</span>.<span class="title">tex</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">enumitem</span>/<span class="title">enumitem</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">booktabs</span>/<span class="title">booktabs</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">geometry</span>/<span class="title">geometry</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">iftex</span>/<span class="title">ifvtex</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">iftex</span>/<span class="title">iftex</span>.<span class="title">sty</span>)))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">psnfss</span>/<span class="title">avant</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">psnfss</span>/<span class="title">mathptmx</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">microtype</span>/<span class="title">microtype</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">etoolbox</span>/<span class="title">etoolbox</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">microtype</span>/<span class="title">microtype</span>-<span class="title">xetex</span>.<span class="title">def</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">microtype</span>/<span class="title">microtype</span>.<span class="title">cfg</span>))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">base</span>/<span class="title">inputenc</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">Package</span> <span class="title">inputenc</span> <span class="title">Warning</span>: <span class="title">inputenc</span> <span class="title">package</span> <span class="title">ignored</span> <span class="title">with</span> <span class="title">utf8</span> <span class="title">based</span> <span class="title">engines</span>.</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">) (<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">base</span>/<span class="title">fontenc</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">psnfss</span>/<span class="title">t1ptm</span>.<span class="title">fd</span>))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">biblatex</span>/<span class="title">biblatex</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pdftexcmds</span>/<span class="title">pdftexcmds</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">infwarerr</span>/<span class="title">infwarerr</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">ltxcmds</span>/<span class="title">ltxcmds</span>.<span class="title">sty</span>))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">kvoptions</span>/<span class="title">kvoptions</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">kvsetkeys</span>/<span class="title">kvsetkeys</span>.<span class="title">sty</span>))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">logreq</span>/<span class="title">logreq</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">logreq</span>/<span class="title">logreq</span>.<span class="title">def</span>))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">base</span>/<span class="title">ifthen</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">url</span>/<span class="title">url</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">biblatex</span>/<span class="title">blx</span>-<span class="title">dm</span>.<span class="title">def</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">biblatex</span>/<span class="title">blx</span>-<span class="title">unicode</span>.<span class="title">def</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">biblatex</span>/<span class="title">blx</span>-<span class="title">compat</span>.<span class="title">def</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">biblatex</span>/<span class="title">biblatex</span>.<span class="title">def</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">biblatex</span>/<span class="title">bbx</span>/<span class="title">numeric</span>.<span class="title">bbx</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">biblatex</span>/<span class="title">bbx</span>/<span class="title">standard</span>.<span class="title">bbx</span>))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">biblatex</span>/<span class="title">cbx</span>/<span class="title">numeric</span>.<span class="title">cbx</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">biblatex</span>/<span class="title">biblatex</span>.<span class="title">cfg</span>)</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">Package</span> <span class="title">biblatex</span> <span class="title">Warning</span>: &#x27;<span class="title">babel</span>&#x27; <span class="title">option</span> <span class="title">is</span> <span class="title">deprecated</span>.</span></span><br><span class="line"><span class="class">(<span class="title">biblatex</span>)                <span class="title">Please</span> <span class="title">use</span> &#x27;<span class="title">autolang</span>&#x27; <span class="title">instead</span>.</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">biblatex</span>/<span class="title">blx</span>-<span class="title">case</span>-<span class="title">expl3</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">l3packages</span>/<span class="title">xparse</span>/<span class="title">xparse</span>.<span class="title">sty</span>)))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">tools</span>/<span class="title">calc</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">base</span>/<span class="title">makeidx</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class"><span class="title">Writing</span> <span class="title">index</span> <span class="title">file</span> <span class="title">main</span>.<span class="title">idx</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">titlesec</span>/<span class="title">titletoc</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">fancyhdr</span>/<span class="title">fancyhdr</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">amsmath</span>/<span class="title">amsmath</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class"><span class="title">For</span> <span class="title">additional</span> <span class="title">information</span> <span class="title">on</span> <span class="title">amsmath</span>, <span class="title">use</span> <span class="title">the</span> `?&#x27; <span class="title">option</span>.</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">amsmath</span>/<span class="title">amstext</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">amsmath</span>/<span class="title">amsgen</span>.<span class="title">sty</span>))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">amsmath</span>/<span class="title">amsbsy</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">amsmath</span>/<span class="title">amsopn</span>.<span class="title">sty</span>))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">amsfonts</span>/<span class="title">amsfonts</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">amsfonts</span>/<span class="title">amssymb</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">amscls</span>/<span class="title">amsthm</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">mdframed</span>/<span class="title">mdframed</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">zref</span>/<span class="title">zref</span>-<span class="title">abspage</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">zref</span>/<span class="title">zref</span>-<span class="title">base</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">kvdefinekeys</span>/<span class="title">kvdefinekeys</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">etexcmds</span>/<span class="title">etexcmds</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">auxhook</span>/<span class="title">auxhook</span>.<span class="title">sty</span>))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">base</span>/<span class="title">atbegshi</span>-<span class="title">ltx</span>.<span class="title">sty</span>))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">needspace</span>/<span class="title">needspace</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">mdframed</span>/<span class="title">md</span>-<span class="title">frame</span>-0.<span class="title">mdf</span>))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">hyperref</span>/<span class="title">hyperref</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">pdfescape</span>/<span class="title">pdfescape</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">hycolor</span>/<span class="title">hycolor</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">letltxmacro</span>/<span class="title">letltxmacro</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">hyperref</span>/<span class="title">nameref</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">refcount</span>/<span class="title">refcount</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">gettitlestring</span>/<span class="title">gettitlestring</span>.<span class="title">sty</span>))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">hyperref</span>/<span class="title">pd1enc</span>.<span class="title">def</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">intcalc</span>/<span class="title">intcalc</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">hyperref</span>/<span class="title">puenc</span>.<span class="title">def</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">bitset</span>/<span class="title">bitset</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">bigintcalc</span>/<span class="title">bigintcalc</span>.<span class="title">sty</span>)))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">hyperref</span>/<span class="title">hxetex</span>.<span class="title">def</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">stringenc</span>/<span class="title">stringenc</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">rerunfilecheck</span>/<span class="title">rerunfilecheck</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">base</span>/<span class="title">atveryend</span>-<span class="title">ltx</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">uniquecounter</span>/<span class="title">uniquecounter</span>.<span class="title">sty</span>)))</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">Package</span> <span class="title">hyperref</span> <span class="title">Warning</span>: <span class="title">Option</span> `<span class="title">backref</span>&#x27; <span class="title">has</span> <span class="title">already</span> <span class="title">been</span> <span class="title">used</span>,</span></span><br><span class="line"><span class="class">(<span class="title">hyperref</span>)                <span class="title">setting</span> <span class="title">the</span> <span class="title">option</span> <span class="title">has</span> <span class="title">no</span> <span class="title">effect</span> <span class="title">on</span> <span class="title">input</span> <span class="title">line</span> 504.</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">Package</span> <span class="title">hyperref</span> <span class="title">Warning</span>: <span class="title">Option</span> `<span class="title">pagebackref</span>&#x27; <span class="title">has</span> <span class="title">already</span> <span class="title">been</span> <span class="title">used</span>,</span></span><br><span class="line"><span class="class">(<span class="title">hyperref</span>)                <span class="title">setting</span> <span class="title">the</span> <span class="title">option</span> <span class="title">has</span> <span class="title">no</span> <span class="title">effect</span> <span class="title">on</span> <span class="title">input</span> <span class="title">line</span> 504.</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">Package</span> <span class="title">hyperref</span> <span class="title">Warning</span>: <span class="title">Option</span> `<span class="title">hyperindex</span>&#x27; <span class="title">has</span> <span class="title">already</span> <span class="title">been</span> <span class="title">used</span>,</span></span><br><span class="line"><span class="class">(<span class="title">hyperref</span>)                <span class="title">setting</span> <span class="title">the</span> <span class="title">option</span> <span class="title">has</span> <span class="title">no</span> <span class="title">effect</span> <span class="title">on</span> <span class="title">input</span> <span class="title">line</span> 504.</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">Package</span> <span class="title">hyperref</span> <span class="title">Warning</span>: <span class="title">Option</span> `<span class="title">bookmarks</span>&#x27; <span class="title">has</span> <span class="title">already</span> <span class="title">been</span> <span class="title">used</span>,</span></span><br><span class="line"><span class="class">(<span class="title">hyperref</span>)                <span class="title">setting</span> <span class="title">the</span> <span class="title">option</span> <span class="title">has</span> <span class="title">no</span> <span class="title">effect</span> <span class="title">on</span> <span class="title">input</span> <span class="title">line</span> 504.</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">bookmark</span>/<span class="title">bookmark</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">bookmark</span>/<span class="title">bkm</span>-<span class="title">dvipdfm</span>.<span class="title">def</span>)))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">ctex</span>/<span class="title">ctex</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">ctex</span>/<span class="title">ctexhook</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">ctex</span>/<span class="title">ctexpatch</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">base</span>/<span class="title">fix</span>-<span class="title">cm</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">base</span>/<span class="title">ts1enc</span>.<span class="title">def</span>))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">ctex</span>/<span class="title">config</span>/<span class="title">ctexopts</span>.<span class="title">cfg</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">ctex</span>/<span class="title">engine</span>/<span class="title">ctex</span>-<span class="title">engine</span>-<span class="title">xetex</span>.<span class="title">def</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">xelatex</span>/<span class="title">xecjk</span>/<span class="title">xeCJK</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">l3packages</span>/<span class="title">xtemplate</span>/<span class="title">xtemplate</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">fontspec</span>/<span class="title">fontspec</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">fontspec</span>/<span class="title">fontspec</span>-<span class="title">xetex</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">base</span>/<span class="title">fontenc</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">fontspec</span>/<span class="title">fontspec</span>.<span class="title">cfg</span>)))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">xelatex</span>/<span class="title">xecjk</span>/<span class="title">xeCJK</span>.<span class="title">cfg</span>)))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">zhnumber</span>/<span class="title">zhnumber</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">zhnumber</span>/<span class="title">zhnumber</span>-<span class="title">utf8</span>.<span class="title">cfg</span>))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">ctex</span>/<span class="title">scheme</span>/<span class="title">ctex</span>-<span class="title">scheme</span>-<span class="title">chinese</span>.<span class="title">def</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">ctex</span>/<span class="title">config</span>/<span class="title">ctex</span>-<span class="title">name</span>-<span class="title">utf8</span>.<span class="title">cfg</span>))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">tools</span>/<span class="title">indentfirst</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">ctex</span>/<span class="title">fontset</span>/<span class="title">ctex</span>-<span class="title">fontset</span>-<span class="title">windows</span>.<span class="title">def</span>))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">ctex</span>/<span class="title">config</span>/<span class="title">ctex</span>.<span class="title">cfg</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">esint</span>/<span class="title">esint</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">euler</span>/<span class="title">euler</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class"><span class="title">Package</span>: `<span class="title">euler</span>&#x27; <span class="title">v2</span>.5 &lt;1995/03/05&gt; (<span class="title">FJ</span> <span class="title">and</span> <span class="title">FMi</span>)</span></span><br><span class="line"><span class="class">) (<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">newpx</span>/<span class="title">newpxtext</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">`<span class="title">newpxtext</span>&#x27; <span class="title">v1</span>.504, 2022/01/30 <span class="title">Text</span> <span class="title">macros</span> <span class="title">taking</span> <span class="title">advantage</span> <span class="title">of</span> <span class="title">TeXGyre</span> <span class="title">Pagella</span></span></span><br><span class="line"><span class="class"><span class="title">and</span> <span class="title">its</span> <span class="title">extensions</span> (<span class="title">msharpe</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">base</span>/<span class="title">fontenc</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">lm</span>/<span class="title">t1lmr</span>.<span class="title">fd</span>))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">iftex</span>/<span class="title">ifxetex</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">iftex</span>/<span class="title">ifluatex</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">xkeyval</span>/<span class="title">xkeyval</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">xkeyval</span>/<span class="title">xkeyval</span>.<span class="title">tex</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">xkeyval</span>/<span class="title">xkvutils</span>.<span class="title">tex</span>)))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">base</span>/<span class="title">textcomp</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">xstring</span>/<span class="title">xstring</span>.<span class="title">sty</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">generic</span>/<span class="title">xstring</span>/<span class="title">xstring</span>.<span class="title">tex</span>))</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">carlisle</span>/<span class="title">scalefnt</span>.<span class="title">sty</span>)</span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">realscripts</span>/<span class="title">realscripts</span>.<span class="title">sty</span>))</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">Package</span> <span class="title">biblatex</span> <span class="title">Warning</span>: &#x27;<span class="title">babel</span>/<span class="title">polyglossia</span>&#x27; <span class="title">detected</span> <span class="title">but</span> &#x27;<span class="title">csquotes</span>&#x27; <span class="title">missing</span>.</span></span><br><span class="line"><span class="class">(<span class="title">biblatex</span>)                <span class="title">Loading</span> &#x27;<span class="title">csquotes</span>&#x27; <span class="title">recommended</span>.</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">newpx</span>/<span class="title">TeXGyrePagellaX</span>.<span class="title">fontspec</span>)</span></span><br><span class="line"><span class="class">(./<span class="title">main</span>.<span class="title">aux</span> (./<span class="title">sub_chapter</span>/01-<span class="title">basic_block</span>.<span class="title">aux</span>)</span></span><br><span class="line"><span class="class">(./<span class="title">sub_chapter</span>/02-<span class="title">advance_block</span>.<span class="title">aux</span>) (./<span class="title">sub_chapter</span>/03-<span class="title">database</span>.<span class="title">aux</span>)</span></span><br><span class="line"><span class="class">(./<span class="title">sub_chapter</span>/04-<span class="title">multi_media</span>.<span class="title">aux</span>) (./<span class="title">sub_chapter</span>/05-<span class="title">insert_block</span>.<span class="title">aux</span>)</span></span><br><span class="line"><span class="class">(./<span class="title">sub_chapter</span>/06-<span class="title">rich_text</span>.<span class="title">aux</span>) (./<span class="title">sub_chapter</span>/07-<span class="title">database_op</span>.<span class="title">aux</span>)</span></span><br><span class="line"><span class="class">(./<span class="title">sub_chapter</span>/08-<span class="title">database_formula</span>.<span class="title">aux</span>))</span></span><br><span class="line"><span class="class">*<span class="title">geometry</span>* <span class="title">driver</span>: <span class="title">auto</span>-<span class="title">detecting</span></span></span><br><span class="line"><span class="class">*<span class="title">geometry</span>* <span class="title">detected</span> <span class="title">driver</span>: <span class="title">xetex</span></span></span><br><span class="line"><span class="class">(<span class="title">e</span>:/<span class="title">texlive</span>/2022/<span class="title">texmf</span>-<span class="title">dist</span>/<span class="title">tex</span>/<span class="title">latex</span>/<span class="title">biblatex</span>/<span class="title">lbx</span>/<span class="title">english</span>.<span class="title">lbx</span>)</span></span><br><span class="line"><span class="class"><span class="title">No</span> <span class="title">file</span> <span class="title">main</span>.<span class="title">bbl</span>.</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">! <span class="title">Package</span> <span class="title">fontspec</span> <span class="title">Error</span>: <span class="title">The</span> <span class="title">font</span> &quot;<span class="title">Microsoft</span> <span class="title">YaHei</span>&quot; <span class="title">cannot</span> <span class="title">be</span> <span class="title">found</span>.</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">For</span> <span class="title">immediate</span> <span class="title">help</span> <span class="title">type</span> <span class="title">H</span> &lt;<span class="title">return</span>&gt;.</span></span><br><span class="line"><span class="class"> ...</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">l</span>.79 ...<span class="title">sep</span>=1<span class="title">cm</span>]</span>&#123;\Huge\centering\bfseries\sffamily</span><br><span class="line">                                                  \parbox[<span class="type">c</span>][][<span class="type">t</span>]&#123;\paperwidt...</span><br><span class="line"></span><br><span class="line">?</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;latex编译时，出现报错&lt;code&gt;! Package fontspec Error: The font &amp;quot;Microsoft YaHei&amp;quot; cannot be found.&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;排查问题记录与问题的思考。&lt;/p&gt;</summary>
    
    
    
    <category term="Bugsfix" scheme="https://www.delta1037.cn/categories/Bugsfix/"/>
    
    
    <category term="Bug" scheme="https://www.delta1037.cn/tags/Bug/"/>
    
    <category term="Latex" scheme="https://www.delta1037.cn/tags/Latex/"/>
    
  </entry>
  
  <entry>
    <title>应用程序设计</title>
    <link href="https://www.delta1037.cn/2022/Project/%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/"/>
    <id>https://www.delta1037.cn/2022/Project/%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/</id>
    <published>2022-03-04T16:00:00.000Z</published>
    <updated>2023-02-12T07:50:51.196Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><font color="#D44C47">三年工作经验之成果，简要概述了应用程序的设计过程~<br>以下没有参考任何文档，纯属瞎编！</font></p></blockquote><span id="more"></span><h2 id="一、模块"><a href="#一、模块" class="headerlink" title="一、模块"></a>一、模块</h2><p>划分模块是为了让大型应用程序的结构更加清晰，在对程序进行重构或者修改模块的功能时更加方便。模块一般需要根据功能类型区分，一般功能包括以下几种：</p><ul><li>日志记录：用于程序运行过程的打点记录，在程序运行出错时能够定位到出错位置和相关必要数据<ul><li>DEBUG日志：调试时使用，包括详细的调试信息，程序出错时辅助调试</li><li>INFO日志：记录程序运行记录，打卡记录</li><li>ERROR日志：记录程序出错记录</li></ul></li><li>数据记录：程序相关的大量数据条目记录，一般与数据库接壤</li><li>配置记录：程序配置相关，配置参数则使用文本文件记录（JSON格式、YAML格式等）</li><li>会话控制：网络连接模块，用于控制两个程序之间的通信<ul><li>会话协议：两个程序的会话需要制定明确的会话协议</li></ul></li><li>任务控制：多线程程序<ul><li>任务启动、停止、回收控制</li><li>卡死线程处理</li></ul></li><li>缓存控制：缓存文件数据或者网络数据（辅助快速加载）</li></ul><h3 id="1-1-日志记录"><a href="#1-1-日志记录" class="headerlink" title="1.1 日志记录"></a>1.1 日志记录</h3><p>对于一个日志记录模块，最主要的功能就是提供日志记录功能。其它功能如下：</p><ul><li>日志的输出等级：可以选择日志输出的最低等级（低于此等级的日志不输出）</li><li>日志输出位置：可以输出到终端、保存到文件。<ul><li>日志保存到文件时，对于不同模块的日志可以选择保存到到不同的文件；当文件过大时，将日志内容归档管理。</li></ul></li></ul><h3 id="1-2-数据记录"><a href="#1-2-数据记录" class="headerlink" title="1.2 数据记录"></a>1.2 数据记录</h3><p>在对接到应用程序的上层部分，一般需要根据程序的具体需求定制（比如存储什么数据，许需要哪些数据操作接口（增删查改之类的））。在数据记录的底层部分，可以支持多种数据库类型，方便数据库的切换，或者使用不同的数据库完成不同的需求（瞎猜的，实际没有遇到过）。</p><p>该模块可以设计为细腰型结构，包括上层对接具体需求，中层管理，底层聚合多种数据库类型。这种结构一方面是便于新增新的功能或者支持新的数据库；另一方面是方便移植到另一个应用程序上（只需要替换上层部分即可）。细腰型结构示例：</p><pre class="mermaid">graph TD    A(数据需求1) --> B(管理)    C(数据需求2) --> B(管理)    B(管理) --> D[Mysql]    B(管理) --> E[SQLITE]</pre><h3 id="1-3-配置记录"><a href="#1-3-配置记录" class="headerlink" title="1.3 配置记录"></a>1.3 配置记录</h3><p>配置模块和日志模块一样，都是应用程序的基础。配置用来初始化一些应用程序的参数，如果把这些参数写入到程序内部，那么在需要调整参数的时候就会很麻烦（重新编译程序），所以需要与应用程序隔离的文件来存储一些在程序启动时可能会发生改变的内容。</p><p>配置模块需要对应用程序提供的基本功能是根据key来获取对应的值，即获取某个参数的值；配置模块也可以添加一些高级功能，例如向配置文件写入一个参数的值；当程序运行时，如果监测到配置发生改变时，对程序中对应的参数重新初始化。</p><p>配置的存储需要与应用程序的语言相适应。C&#x2F;C++一般使用一行即为一个参数配置（使用“：”或者“&#x3D;”隔离参数的key和value）；Python可以很方便的使用json库，所以可以使用JSON文件作为配置文件。</p><h3 id="1-4-会话控制"><a href="#1-4-会话控制" class="headerlink" title="1.4 会话控制"></a>1.4 会话控制</h3><p>会话控制模块一般用于本地或者网络上的两个进程间的通信。通信则一般分为同步和异步方式，同步通信方式就是进程A向进程B索要数据，A等着B完成，然后拿到数据；异步方式是进程A向进程B索要数据，确定B收到索要数据之后A立即返回，B开始准备数据，当B数据准备好之后将数据发送给A，A拿到数据。</p><p>会话控制模块一般分为两层，上层是会话协议层，下层是网络传输层，会话协议层主要定义两个程序之间的通信协议（A：你今天吃什么？B：我吃番茄炒鸡蛋），网络传输部分主要是定义信息传输的方式（怎么把”你今天吃什么？“这句话发出去），一般有Socket（TCP&#x2F;UDP）、HTTP等。</p><pre class="mermaid">graph TD    subgraph 从    E(从:会话协议) <--> C(从:网络传输)    end    subgraph 主    A(主:会话协议) <--> B(主:网络传输)    end</pre><h3 id="1-5-任务控制"><a href="#1-5-任务控制" class="headerlink" title="1.5 任务控制"></a>1.5 任务控制</h3><p>一般的多任务程序中都需要任务管理，多任务即为多线程任务，多线程任务包括临时任务、持久化任务等等。任务控制模块可以提供任务控制功能，基本的包括启动任务和终止任务，更复杂点的包括任务的活性监测（监测线程是否卡住）。</p><p>多任务模块需要考虑的点有：</p><ul><li>基本功能：<ul><li>启动任务：开启一个新的线程，此时需要数据传入和函数传入（不同的类型其处理函数也不一样，处理函数也需要不同的数据，需要考虑的是怎么把开启新线程的接口统一：封装统一的数据结构相对来说是一种扩展性很强的方案）</li><li>终止任务：当任务没有分离时，使用的计算机语言一般会提供回收的方式</li></ul></li><li>活性监测：任务开启时注册一个定时器，当定时器结束时说明任务还没有退出（如果进程提前退出则说明该任务实例已经被销毁（注意销毁任务实例的定时器处理））</li></ul><h3 id="1-6-缓存控制"><a href="#1-6-缓存控制" class="headerlink" title="1.6 缓存控制"></a>1.6 缓存控制</h3><p>缓存控制的目的是存储一些临时性的数据，用来保存数据或者加速访问某些内容。一般应用是可以缓存其它模块的数据内容（比如会话控制的会话数据和任务控制的任务数据）或者需要加速访问的内容（从文件中读取的一些内容、从网络上获取到的内容，这些内容如果重新获取对于一个对运行时间有要求的程序来说时间成本过大。但是要注意，这些内容短期内不会发生变化，如果这些内容每次获取都不一样，那么或许重新获取是无法避免的）</p><p>缓存控制的设计比较灵活，一般需要根据实际的应用程序设计（具体问题具体分析）。对于一些常规性的存储内容（其它模块需要存储的数据）则可以统一实现，减少重复造轮子的可能性。</p><h2 id="二、逻辑"><a href="#二、逻辑" class="headerlink" title="二、逻辑"></a>二、逻辑</h2><h3 id="2-1-必要逻辑"><a href="#2-1-必要逻辑" class="headerlink" title="2.1 必要逻辑"></a>2.1 必要逻辑</h3><p>计算机语言都会（所有的）包含一些<strong>必要的逻辑</strong>，包括：</p><ul><li>数据操作：保存数据、打印数据</li><li>顺序执行：逐条执行代码</li><li>循环处理：循环执行某段代码</li><li>条件处理：根据条件判断是否执行某段代码</li><li>函数封装：将某一个小功能封装成函数</li></ul><h3 id="2-2-类的概念"><a href="#2-2-类的概念" class="headerlink" title="2.2 类的概念"></a>2.2 类的概念</h3><p><font color="#D44C47">继承和多态（待补充）</font></p><p>对于含有<strong>类概念</strong>的计算机语言（C++、Python）：</p><p>类的概念比函数封装更进一步。函数封装只会封装单个的功能；类则封装了数据和多个功能，即包含了数据和处理数据的方法。类的一个实例通常称为对象（类可以描述为实例的蓝图，设计图），对象的出现使得类区别于数据和方法的集合。每一个类的对象都有自己的数据空间，使得不同的对象互相隔离。</p><p>模块的出现使得同类型的操作得以聚合。例如一个SQLITE数据库操作类，其中数据区域可以包括数据库的位置信息；操作方法包括增删查改等常用方法的集合。</p><p>将操作方法聚合成类和聚合成文件（无类）的区别。将操作方法封装成类时，数据定义保存在类中，方法定义保存在类中，当我们操作不同位置的数据库时，可以实例化多个对象，这些对象的区别仅有其中的数据区域（数据库的位置）；将操作方法汇聚成文件时，当我们操作不同位置的数据库时，可以定义空间来存储不同的数据库位置，当调用某一个数据库方法时，需要传入一些必要的内容（例如数据库的位置或者数据库操作句柄）等。</p><p>使用类的优势：类将数据定义和方法定义封装到一起，第一是类的进一步封装使得代码边界更加清晰，数据定义易于管理；第二是减少了不必要的外部数据的传入（类初始化时传入并在数据区域统一管理）。</p><h3 id="2-3-模块的概念"><a href="#2-3-模块的概念" class="headerlink" title="2.3 模块的概念"></a>2.3 模块的概念</h3><p>对于含有<strong>模块概念</strong>的计算机语言：</p><p>模块的概念比类的概念更宽泛，类是一种类型（奔驰）的方法的封装，模块可以认为是一类对象（奔驰、奥迪）的封装，实际上模块的分类包括日志记录模块，数据记录模块（里面可能包含了Mysql数据库操作对象和SQLITE数据库操作对象等多种类封装）。</p><p>模块的优势：模块将同一属性的内容封装（放）到一起，第一是方便不同模块的管理，方便模块替换（只要对外的API是不改变的，那么模块很容易被替换或者修改内部功能），便于代码的维护（在修改某一部分的功能时，直接到对应的模块修改）；</p><h2 id="三、细节"><a href="#三、细节" class="headerlink" title="三、细节"></a>三、细节</h2><p>计算机语言只是实现目的的一种工具，不同的语言在对模块的实现上有不同的优势，在选用语言来完成某一功能时，需要考虑如下内容：</p><ul><li>功能复杂性：<ul><li>是否需要拆分成不同模块，模块之间的耦合</li></ul></li><li>运行的平台：<ul><li>运行环境的配置</li></ul></li><li>运行速度要求：编译语言和脚本语言</li><li>时间控制精度要求：我之前用Shell写一个程序时，程序的时间很难控制（定时运行）</li><li>底层模块依赖：是否有精力进行从砖头开始垒房子，或者快速从墙片开始垒房子（一样结实的）</li></ul><table><thead><tr><th>语言</th><th>优势</th><th>弱势</th><th>平台</th><th>分类</th></tr></thead><tbody><tr><td>C</td><td>1、快</td><td>1、数据管理<br>2、打地基</td><td>1、编译运行</td><td>高级</td></tr><tr><td>C++</td><td>1、快</td><td>1、打地基</td><td>1、编译运行</td><td>高级</td></tr><tr><td>Python</td><td>1、库多</td><td>1、较慢（边解释边运行）</td><td>1、打包运行<br>2、解释器运行</td><td>脚本</td></tr><tr><td>Shell</td><td>1、无需编译</td><td>1、数据管理<br>2、复杂处理</td><td>1、解释器运行（Linux）</td><td>脚本</td></tr></tbody></table><h2 id="四、语言组合"><a href="#四、语言组合" class="headerlink" title="四、语言组合"></a>四、语言组合</h2><p>不同的语言是可以互通的，这样可以解决某一个语言的缺陷。例如Python调用C实现的动态库（以解决Python运行慢的问题）（实例：Numpy底层使用C语言编写，内部解除了GIL（全局解释器锁），其对数组的操作速度不受Python解释器的限制，效率远高于纯Python代码）。</p><p>其它代码互相调用的例子不再赘述。</p><h2 id="五、程序设计"><a href="#五、程序设计" class="headerlink" title="五、程序设计"></a>五、程序设计</h2><p>在需求定义完成之后，就可以开始着手程序的架构设计，架构是语言无关的，最终无论用什么语言去实现这个程序都可以，只是存在难易度和细节的调整问题。难易度和细节指的是一个语言是否具有良好的生态（有没有现成的稳健的依赖包，或者自己有没有积攒一些常用的代码段等），另外就是程序在与外部对接的过程，有没有封装良好的接口。</p><p>程序架构的设计是基于需求的目标的，是一个有目的的设计。为了完成最终的目标，我们需要让各个模块按照我们目标运作起来。动起来是最基本的，我们还需要考虑之后的维护过程，怎么让代码更好的去维护，另外还有考虑代码的复用性，这些代码能不能封装起来在之后的项目中使用。</p><p>软件工程中有一个名为“高内聚、低耦合”的概念，我们在写代码之前就需要考试考虑好这个问题，低耦合是为了让基本不相关的内容分离设计，高内聚是让一个模块恰好做一件事。在低耦合方面，如果日志模块和缓存模块纠缠在一起，再加一个数据库模块的话难道要再重写一个日志模块？再高内聚方面，一个日志模块不需要分散开写成多个部分，日志模块就是提供一个稳定的标准的日志接口，里面怎么实现是不需要调用者关注的。本人觉得做好“高内聚、低耦合”就能得到一份好维护，复用性强的代码。</p><p>做好程序架构的设计之后，就可以开始做语言的选型，从划分的各个模块入手开始做代码的编写。在做语言的选型问题的时候，要考虑与外部对接的难易度，例如与数据库的对接，与外部接口的对接等等，有的语言例如python对这些有很好的支持，但是C++就需要仔细考虑怎么对接的问题。</p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;font color=&quot;#D44C47&quot;&gt;三年工作经验之成果，简要概述了应用程序的设计过程~&lt;br&gt;以下没有参考任何文档，纯属瞎编！&lt;/font&gt;&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="工程" scheme="https://www.delta1037.cn/categories/%E5%B7%A5%E7%A8%8B/"/>
    
    
    <category term="系统" scheme="https://www.delta1037.cn/tags/%E7%B3%BB%E7%BB%9F/"/>
    
    <category term="程序设计" scheme="https://www.delta1037.cn/tags/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title>考研感想</title>
    <link href="https://www.delta1037.cn/2021/Times/%E8%80%83%E7%A0%94%E6%84%9F%E6%83%B3/"/>
    <id>https://www.delta1037.cn/2021/Times/%E8%80%83%E7%A0%94%E6%84%9F%E6%83%B3/</id>
    <published>2021-12-27T16:00:00.000Z</published>
    <updated>2023-02-12T07:50:51.224Z</updated>
    
    <content type="html"><![CDATA[<p>22刚考完，趁着脑子清醒做一下总结</p><span id="more"></span><h2 id="一、考试与估分"><a href="#一、考试与估分" class="headerlink" title="一、考试与估分"></a><strong>一、考试与估分</strong></h2><p>本来准备等佛系出分的，早上看到有人发了专业课的答案，没忍住对了一下，然后就全对了一下答案。下边分享一下做题心理路程：</p><ul><li>专业课：130。写上的差不多都对了，大题有两个小问没有写出来，还有一个小问忘记把参数代入计算了，只写了表达式。专业课是华科的824，一共有28个题吧，20个选择填空，写完发现只用了一个小时，五个只有一两问的题，大概用了一个小时（写完选择才用了一个小时啊啊啊，再抬头感觉时间就不够了，有的太难算的直接放弃了），开始最后三道大题剩一个小时，一道二十分钟，奈何慌的一批，疯狂赶进度，最后剩十分钟，没写的就不管了，检查了一遍，封口完事！</li><li>数学：120。选择填空错了两个，有个选择记不清了，大题有个题没写出来，列了个公式，还有个大题的最后计算错了，但是步骤都是对的，其它的好像还行。选择填空一共用了一个小时左右，剩下的全在搞大题了（真是太难算了，刚拿到卷子心里乐开了花，心想这么简单，写着写着就哭了），写完选择填空把答题卡就画了轻轻的一下，想着大题写完再回来检查的（选择太多不确定的了），结果大题写的入迷了，最后十五分钟发现答题卡还没涂，人差点被吓傻了赶紧涂一下（所以最后十分钟就不要继续看题了，把卷子看一下，看看有没有什么需要补充的！）</li><li>英语：50。我英语不好，没什么好说的，完型错了一半，阅读+七选五应该错了一个还是两个，翻译能给一分就行，作文加起来给十分就行（写的邀请信狗都不来，大作文套的模板）</li><li>政治：50。政治也没啥好说的，我没有背诵的天赋，单选是错了两个左右，多选应该有四五个，所以选择大概能拿四十分，大题都写满了，希望赏给我十分。</li></ul><p>综述：保350冲380。</p><h2 id="二、考研感想"><a href="#二、考研感想" class="headerlink" title="二、考研感想"></a><strong>二、考研感想</strong></h2><ul><li>预谋：三四月份的时候就忽然觉得工作没啥意思，趁着年轻应该多学习。咨询了很多老师，和已经上了研究生的同学，以及一些工作的同学，相互交流了很多意见，工作有工作的好处，读研有读研的好处，各有各的难处，各方权衡下我觉得我想去试一试，因为我没考过研，总觉得差点什么。（之前有一个保研的机会我没有珍惜，这也没什么好后悔的，当时觉得工作很香，工作了一年才了解了工作这件事，工作中也收获了挺多，不算亏！）</li><li>辞职：主管来劝我，大概说我是应届生里比较强的（Dian团队出来的哪一个不强，就属我菜了），工作三年也可以拿到一个不亚于研究生的薪资水平，大概是我已经拿了一年的工资有点飘了，好说歹说最后还是辞职了（现在想想确实有点冲动，但是考完研后无论最后有没有考上我都有了更大的收获）。</li><li>开始：刚辞职的几天，那个浪啊！租的房子还没到期，每天睡到自然醒，偶尔女朋友过来一起做做饭啥的（做饭是我，刷碗也是我，女朋友参与了吃的部分），买了数学的复习资料，每天看个一两眼，过的挺快活！</li><li>中期：高中的学习方式就是使劲刷题，但是大学和一群优秀的人待久了，又有了别的思路。首先是规划方面，每周我都会做周报，每个周日会安排这周的任务，然后每天完成一项就勾一项（一开始用的有道云笔记软件，后来发现了notion，哎呀妈呀真香），到了周日就对这周的东西做一下总结，看看完成情况（大部分都是完不成的，因为各种各样的原因，总而言之就是我有拖延症（此处应该@钟sir），没完成就完后拖呗，最后拖的实在太多了就削减任务，反正最后很多的题都没写，但是写过的都吃的很透，数学复习全书综合提高我认真刷了两边，最后马马虎虎又看了两遍）。然后就是笔记方面，数一的内容真的是多啊，我记笔记是因为从我二刷复习全书的时候发现前边的都忘了，这第二遍刷完再忘了咋办，果断开始记数学笔记（一刷没有记是因为我对数学还是很有信心的，后来发现忘得一干二净），后来因为发现了notion这个软件，记笔记挺方便的（其实主要是我写字太丑了，我一开始写了纸质的数学笔记，不忍直视。。。），然后开始记数学和专业课的笔记，刚开始记的时候真是太痛苦了，严重拖慢复习进度，一直咬牙坚持着，每周花费大量时间在记笔记上（最后看了一下统计一共得有十几万字了），后来复习完一轮回头看的时候，笔记还是很有用的，能够立马想起来这个地方的知识点都会出什么题（后期就不行了）。最后吧就是适当放松，不要一直紧绷着，该放松得放松。</li><li>后期：最后的一段时间我也是慌的一批，感觉啥都不会了（到考场上发现会了也没啥用）。做了最后一段时间的规划，填充的满满当当的（当然，最后大部分没搞完）。每隔一天做一套数学卷子保持手感；我这个专业课也是计算题也得保持手感；每天佛系背政治，刷刷选择题；最后几天发现英语单词忘了一些赶紧去补，每隔一天做一下阅读保持手感（最后几天了，做了20年的题，阅读+七选五错了13个，心态都崩了，还好最后英一阅读没有特别难的点，阅读做的很顺畅）。</li></ul><p>总结：无论考没考过都不会再考了，这段考研的日子确实能让人收获很多，爷青结~</p><h2 id="三、资料"><a href="#三、资料" class="headerlink" title="三、资料"></a><strong>三、资料</strong></h2><p>以下只放我写过的，没写过的不好做出评价。</p><p>数学：</p><ol><li>复习全书：看了四遍，知识比较系统，每一个知识后都有例题（我第一遍用来看基础知识点和看例题，第二遍不看答案刷了一遍例题并且标注一些难点的题，第三遍就是认真看一下重点标注的题，第四遍是快考试了，看了知识点和重点标注的题）</li><li>880：是个习题集就行，刷一遍作为巩固（微积分部分我只写了选择题，线代和概率论差不多都写了）</li><li>李艳芳的真题：这个老师出的真题讲解真是太棒了！讲解特别的详细（我是用来写完真题对答案的，我写完真题无论这道题有没有写对都会把答案看一遍，看看答案有没有什么好的思路）</li><li>历年真题全精解析：我用来巩固真题用的，看看哪一章都会出什么题（高数认真看了一遍，线代和概率论没来得及看）</li><li>一些视频：我的全部都是自学的，没看哪个老师的视频。最后的冲刺阶段在B站上看了李艳芳的高数知识梳理。</li></ol><p>专业课：</p><ol><li>刺猬哥的复习资料（真题、分类题、知识点）：整体来说挺好的，还有答疑服务（虽然我也没问几次，但是有了一个沟通题目的地方）；真题是熟悉题型用的，最重要；分类题是熟悉知识点用的；知识点那本我没咋看</li><li>信号与系统（奥本海姆）：专业课的课本，没啥好说的，我是先看了一遍课本，然后才开始写题的</li><li>黄皮书和绿皮书：专业课课本辅导资料，对课后的例题做讲解（今年好像有一个特别难的题是从绿皮书上出的，绿皮书很重要），这两本有重复的题目，对照着勾画一下，重复的题做一遍就行了</li></ol><p>英语：</p><ol><li>黄皮书：真题和讲解，没啥好说的，挺好用的</li><li>唐迟阅读的逻辑：看了一遍确实挺好用，看完之后记得做总结</li><li>语法新思维+长难句高分通关：我英语太差了，需要补语法（自知之明）</li><li>其它：买了一堆，没怎么写（新东方的资料几乎所有的都买了，除了那两本语法其它的没怎么写）</li></ol><p>政治：</p><ol><li>肖老的一套：必买，四套卷+八套卷+时政刷个心安，1000题也是必刷的（我有一门没刷完，后期转到小程序刷题了）</li><li>刷题软件：都一样的，能刷题就行了，这里因为这个刷题软件侵犯了原著的著作权就不提名字了</li></ol><h2 id="四、收尾"><a href="#四、收尾" class="headerlink" title="四、收尾"></a><strong>四、收尾</strong></h2><p>前边放了大段的文字，下边放几张图</p><ul><li>有道云笔记做的周报</li></ul><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Times_%E8%80%83%E7%A0%94%E6%84%9F%E6%83%B3_%E6%9C%89%E9%81%93%E4%BA%91%E7%AC%94%E8%AE%B0%E5%81%9A%E7%9A%84%E5%91%A8%E6%8A%A5.png" alt="有道云笔记做的周报"></p><ul><li>notion做的周报</li></ul><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Times_%E8%80%83%E7%A0%94%E6%84%9F%E6%83%B3_notion%E5%81%9A%E7%9A%84%E5%91%A8%E6%8A%A5.png" alt="notion做的周报"></p><ul><li>notion做的周报汇总</li></ul><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Times_%E8%80%83%E7%A0%94%E6%84%9F%E6%83%B3_notion%E5%81%9A%E7%9A%84%E5%91%A8%E6%8A%A5%E6%B1%87%E6%80%BB.png" alt="notion做的周报汇总"></p><ul><li>有道云做的数学计划</li></ul><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Times_%E8%80%83%E7%A0%94%E6%84%9F%E6%83%B3_%E6%9C%89%E9%81%93%E4%BA%91%E5%81%9A%E7%9A%84%E6%95%B0%E5%AD%A6%E8%AE%A1%E5%88%92.png" alt="有道云做的数学计划"></p><ul><li>notion做的数学计划</li></ul><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Times_%E8%80%83%E7%A0%94%E6%84%9F%E6%83%B3_notion%E5%81%9A%E7%9A%84%E6%95%B0%E5%AD%A6%E8%AE%A1%E5%88%92.png" alt="notion做的数学计划"></p><ul><li>notion做的英语阅读笔记</li></ul><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Times_%E8%80%83%E7%A0%94%E6%84%9F%E6%83%B3_notion%E5%81%9A%E7%9A%84%E8%8B%B1%E8%AF%AD%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0.png" alt="notion做的英语阅读笔记"></p><ul><li>notion做的数学笔记</li></ul><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Times_%E8%80%83%E7%A0%94%E6%84%9F%E6%83%B3_notion%E5%81%9A%E7%9A%84%E6%95%B0%E5%AD%A6%E7%AC%94%E8%AE%B0.png" alt="notion做的数学笔记"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;22刚考完，趁着脑子清醒做一下总结&lt;/p&gt;</summary>
    
    
    
    <category term="时光" scheme="https://www.delta1037.cn/categories/%E6%97%B6%E5%85%89/"/>
    
    
    <category term="考研" scheme="https://www.delta1037.cn/tags/%E8%80%83%E7%A0%94/"/>
    
  </entry>
  
  <entry>
    <title>Typora图床配置</title>
    <link href="https://www.delta1037.cn/2021/Deploy/Typora%E5%9B%BE%E5%BA%8A%E9%85%8D%E7%BD%AE/"/>
    <id>https://www.delta1037.cn/2021/Deploy/Typora%E5%9B%BE%E5%BA%8A%E9%85%8D%E7%BD%AE/</id>
    <published>2021-06-20T16:00:00.000Z</published>
    <updated>2023-02-12T07:50:51.402Z</updated>
    
    <content type="html"><![CDATA[<p>Typora图床配置</p><span id="more"></span><h2 id="一、开通阿里云对象存储"><a href="#一、开通阿里云对象存储" class="headerlink" title="一、开通阿里云对象存储"></a><strong>一、开通阿里云对象存储</strong></h2><p>阿里云对象存储<a href="https://www.aliyun.com/product/oss">页面</a></p><p>之后购买资源包和新建bucket即可，我所使用的是本地冗余的低频访问存储，因为这个便宜一些，主要是因为我的博客图片量比较少，访问频率不大。</p><p>具体阿里云方面的配置参考<a href="https://blog.csdn.net/weixin_44497705/article/details/108996963">Typora+PicGo+阿里云OSS实现图片上传功能</a></p><h2 id="二、Typora配置"><a href="#二、Typora配置" class="headerlink" title="二、Typora配置"></a><strong>二、Typora配置</strong></h2><p>如下图所示</p><p>1、在<code>图像-&gt;插入图片时</code>可以选择在插入图片时先将图片拷贝到某一个位置，然后可以根据需要对其进行重命名(有关于此见暂未解决的问题1)，然后右键上传图片即可</p><p>2、在<code>图像-&gt;上传服务设定</code>可以设置上传服务，下图中选用PicGo-Core（因为上传图片使用命令行而不是后台常驻进程，减少系统资源消耗），选择完毕之后点击<code>下载或更新</code>可以自动安装；安装完毕之后选择<code>打开配置文件</code></p><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Deploy_Typora%E5%9B%BE%E5%BA%8A%E9%85%8D%E7%BD%AE_Typora%E5%9B%BE%E5%BA%8A%E9%85%8D%E7%BD%AE.png" alt="Typora图床配置"></p><p>3、配置文件配置如下所示</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;picBed&quot;: &#123; // 图床的配置</span><br><span class="line">    &quot;uploader&quot;: &quot;aliyun&quot;, // 图床类型的选择，这里选择阿里云</span><br><span class="line">    &quot;aliyun&quot;: &#123;</span><br><span class="line">      &quot;accessKeyId&quot;: &quot;xxxxxxxxxx&quot;,  // 图床的访问ID</span><br><span class="line">      &quot;accessKeySecret&quot;: &quot;xxxxxxxxxx&quot;, // 图床的访问密钥，具体设置参考 一、开通阿里云对象存储</span><br><span class="line">      &quot;bucket&quot;: &quot;bucket_name&quot;,  // bucket名字</span><br><span class="line">      &quot;area&quot;: &quot;oss-cn-beijing&quot;, // bucket地区</span><br><span class="line">      &quot;path&quot;: &quot;hexo-blog/&quot;, // bucket内部文件夹</span><br><span class="line">      &quot;customUrl&quot;: &quot;delta1037.oss-cn-beijing.aliyuncs.com&quot;, // 外网访问bucket域名</span><br><span class="line">      &quot;options&quot;: &quot;&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  // PicGo插件相关配置，后续介绍</span><br><span class="line">  &quot;picgoPlugins&quot;: &#123;</span><br><span class="line">    &quot;picgo-plugin-rename-file&quot;: true</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;picgo-plugin-rename-file&quot;: &#123;</span><br><span class="line">    &quot;format&quot;: &quot;&#123;localFolder:1&#125;-&#123;origin&#125;&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="三、PicGo相关插件"><a href="#三、PicGo相关插件" class="headerlink" title="三、PicGo相关插件"></a><strong>三、PicGo相关插件</strong></h2><p>插件的安装需要系统中安装<a href="https://nodejs.org/en/">nodejs</a>；以下安装插件命令的执行在PicGo的配置文件夹中(例如C:\Users\delta1037.picgo，在此文件中打开Powershell窗口即可)</p><h3 id="3-1-picgo-plugin-rename-file"><a href="#3-1-picgo-plugin-rename-file" class="headerlink" title="3.1 picgo-plugin-rename-file"></a><strong>3.1 picgo-plugin-rename-file</strong></h3><p>shell或者Powershell中执行安装命令</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i picgo-plugin-rename-file</span><br></pre></td></tr></table></figure><p>相应的配置解释如下</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// PicGo插件相关配置</span><br><span class="line">&quot;picgoPlugins&quot;: &#123;</span><br><span class="line">    &quot;picgo-plugin-rename-file&quot;: true // 控制插件的打开与关闭</span><br><span class="line">&#125;,</span><br><span class="line">&quot;picgo-plugin-rename-file&quot;: &#123;</span><br><span class="line">    &quot;format&quot;: &quot;&#123;localFolder:1&#125;-&#123;origin&#125;&quot; // 上传图片时图片的重命名格式</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>具体的重命名格式参照<a href="https://github.com/liuwave/picgo-plugin-rename-file">github项目主页</a></p><h2 id="暂未解决的问题"><a href="#暂未解决的问题" class="headerlink" title="暂未解决的问题"></a><strong>暂未解决的问题</strong></h2><ul><li>1、拷贝到Typora的图片不可以右键重命名（需要先粘贴图片，打开图片位置，重命名，修改Typora中对应的名字步骤，及其繁琐，等待后续Typora更新），相应的<a href="https://github.com/typora/typora-issues/issues/2242">issue</a></li><li>2、阿里云设置防盗链之后，Typora上传图片之后无法正常显示</li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;Typora图床配置&lt;/p&gt;</summary>
    
    
    
    <category term="博客搭建" scheme="https://www.delta1037.cn/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
    
    <category term="博客搭建" scheme="https://www.delta1037.cn/tags/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
    <category term="Typora" scheme="https://www.delta1037.cn/tags/Typora/"/>
    
  </entry>
  
  <entry>
    <title>租房指南</title>
    <link href="https://www.delta1037.cn/2021/Life/%E7%A7%9F%E6%88%BF%E6%8C%87%E5%8D%97/"/>
    <id>https://www.delta1037.cn/2021/Life/%E7%A7%9F%E6%88%BF%E6%8C%87%E5%8D%97/</id>
    <published>2021-05-24T16:00:00.000Z</published>
    <updated>2023-02-12T07:50:51.412Z</updated>
    
    <content type="html"><![CDATA[<p>租房指南。关于费用、房东&amp;中介、怎么找房东~</p><span id="more"></span><h2 id="一、费用问题"><a href="#一、费用问题" class="headerlink" title="一、费用问题"></a><strong>一、费用问题</strong></h2><ul><li>付款方式：押一付一、押一付三；交租方式，保留交租凭证</li><li>需要另付的费用由哪些：电费（商业用电和民用电：商业用电贵一些，可能由民用电的两倍）、水费、物业费、网费，家电维修费（对维修费用的出具人做出约定）</li><li>克扣押金：合同可以注明租期满后指定工作日内，在房屋或者其设施不存在人为损毁的情况下，应退还全部押金</li></ul><h2 id="二、房东-amp-中介"><a href="#二、房东-amp-中介" class="headerlink" title="二、房东&amp;中介"></a><strong>二、房东&amp;中介</strong></h2><ul><li>合同可以注明租赁房屋所在的位置、间数、面积、质量、设施清单、租赁期限、租金及支付期限与方式等</li><li>审查合同主体是否合格，即出租人与承租人是否具备相应的条件。审查租赁的客体是否合格，即出租人的房屋是否为法律、法规允许出租的房屋。审查房屋租赁手续是否完备。房屋产权证明并非是合法出租的充分条件，还应按有关规定办理房屋租赁许可证，租赁合同也要进行租赁登记方可生效。</li><li>房东直租&#x2F;中介：房东直租不需要中介费；如果找中介，中介费一般是房租的一半，在签订合同时一次性缴清</li><li>公寓公司：蛋壳自如之类的、一般租金较贵，注意除了每个月的租金之外是否还需要其它费用，一般会有打扫卫生的费用（服务费）；注意是否与银行签订贷款（蛋壳）</li></ul><h2 id="三、如何找房东直租"><a href="#三、如何找房东直租" class="headerlink" title="三、如何找房东直租"></a><strong>三、如何找房东直租</strong></h2><p>现在找租房信息平台有很多，但是内容混杂很难分清是否是真实信息，例如：</p><ul><li>在某网站上找的中介，一开始说自己不是蛋壳的，后来又承认是蛋壳的，然后一开始说不需要服务费，提出录音之后又改口</li><li>看到明显很“高大上”的房子，但是租金很便宜，一般是压价来吸引客户的，但是也可以问一问</li><li>在线看照片是看不准的，一定要线下看房</li></ul><h3 id="3-1-找房东直租的方法"><a href="#3-1-找房东直租的方法" class="headerlink" title="3.1 找房东直租的方法"></a><strong>3.1 找房东直租的方法</strong></h3><ul><li><a href="https://www.douban.com/group/explore">豆瓣租房小组</a>上有很多发布的房源信息</li><li><a href="https://www.bazhuayu.com/">八爪鱼采集器</a>来爬取数据相当好用</li><li>众所周知，一个人是不可能有七八套房的（特别厉害的当我没说），根据每个用户的发布房源数量来手动做数据清洗</li><li>单个用户一直发同一套房那就大概率是房东了</li></ul><h2 id="Oh"><a href="#Oh" class="headerlink" title="Oh"></a><strong>Oh</strong></h2><p>以上整理于毕业租房的真实经历，最后找到了一个比较满意的房子，网上的照片拍的效果太差，最后才看的，线下看还行，所以一定要线下看一下</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;租房指南。关于费用、房东&amp;amp;中介、怎么找房东~&lt;/p&gt;</summary>
    
    
    
    <category term="生活" scheme="https://www.delta1037.cn/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
    <category term="租房" scheme="https://www.delta1037.cn/tags/%E7%A7%9F%E6%88%BF/"/>
    
    <category term="生活" scheme="https://www.delta1037.cn/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>Terraria服务端搭建</title>
    <link href="https://www.delta1037.cn/2021/Game/Terraria%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%90%AD%E5%BB%BA/"/>
    <id>https://www.delta1037.cn/2021/Game/Terraria%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%90%AD%E5%BB%BA/</id>
    <published>2021-05-19T16:00:00.000Z</published>
    <updated>2023-02-12T07:50:51.406Z</updated>
    
    <content type="html"><![CDATA[<p>Terraria服务端搭建</p><span id="more"></span><h2 id="一、环境准备"><a href="#一、环境准备" class="headerlink" title="一、环境准备"></a><strong>一、环境准备</strong></h2><ul><li>Linux x86_64（CentOS 8）</li></ul><h2 id="二、搭建"><a href="#二、搭建" class="headerlink" title="二、搭建"></a><strong>二、搭建</strong></h2><h3 id="2-1-下载"><a href="#2-1-下载" class="headerlink" title="2.1 下载"></a><strong>2.1 下载</strong></h3><p><a href="https://terraria.org/">官网地址</a>最下方点击<a href="https://terraria.org/system/dedicated_servers/archives/000/000/046/original/terraria-server-1423.zip?1621172068">PC Dedicated Server</a>（此链接版本为1423版本，当steam启动时更新时，服务端也要做相应的更新）即可下载最新版本的服务端，其中包括Linux&#x2F;Window&#x2F;Mac版本。</p><h3 id="2-2-安装"><a href="#2-2-安装" class="headerlink" title="2.2 安装"></a><strong>2.2 安装</strong></h3><p>将下载到的包上传到服务端</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 创建存放服务端文件的目录</span><br><span class="line">mkdir -p /opt/terraria_server</span><br><span class="line"></span><br><span class="line"># 解压文件到目录</span><br><span class="line">unzip terrraria-server-1423.zip -d /opt/terraria_server</span><br><span class="line"></span><br><span class="line"># 进入到解压后的Linux对应的目录，并给文件执行权限</span><br><span class="line">cd /opt/terraria_server/1423/Linux</span><br><span class="line">chmod +x -R ./  # 注意这里是图方便给改文件夹下所有的文件赋予了可执行权限，也可以单独给需要的文件赋予可执行权限</span><br></pre></td></tr></table></figure><h3 id="2-3-配置"><a href="#2-3-配置" class="headerlink" title="2.3 配置"></a><strong>2.3 配置</strong></h3><p>配置文件</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 创建并编辑配置文件</span><br><span class="line">## 创建在外层目录不影响更新服务端版本</span><br><span class="line">vim /opt/terraria_server/terraria_config</span><br></pre></td></tr></table></figure><p>配置内容可填写如下：</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># 启动时选择的地图的路径</span><br><span class="line">world=/opt/terraria_server/Worlds/delta1037.wld</span><br><span class="line"># 最大连接玩家个数</span><br><span class="line">maxplayers=3</span><br><span class="line"># 连接密码</span><br><span class="line">password=******</span><br><span class="line"># 指定端口，默认是7777</span><br><span class="line">port=6666</span><br><span class="line"># 语言配置</span><br><span class="line">language=zh</span><br><span class="line"></span><br><span class="line"># 当地图不存在时创建新地图的配置</span><br><span class="line">## 地图难度</span><br><span class="line">difficulty=0</span><br><span class="line">## 地图大小 1(小), 2(中), and 3(大).</span><br><span class="line">autocreate=3</span><br><span class="line">## 地图路径和名字</span><br><span class="line">worldpath=/opt/terraria_server/Worlds</span><br><span class="line">worldname=delta1037.wld</span><br></pre></td></tr></table></figure><p>完整的配置见<a href="https://terraria.fandom.com/wiki/Server#Server_config_file">Terraria官方配置说明</a></p><h2 id="三、启动服务端"><a href="#三、启动服务端" class="headerlink" title="三、启动服务端"></a><strong>三、启动服务端</strong></h2><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 进入到主程序目录</span><br><span class="line">cd /opt/terraria_server/1423/Linux</span><br><span class="line"></span><br><span class="line"># 使用配置文件启动</span><br><span class="line">./TerrariaServer.bin.x86_64 -config /opt/terraria_server/terraria_config</span><br></pre></td></tr></table></figure><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a><strong>参考</strong></h2><p>【0】<a href="https://www.bilibili.com/read/cv3605865/">Linux搭建泰拉瑞亚服务器</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;Terraria服务端搭建&lt;/p&gt;</summary>
    
    
    
    <category term="游戏" scheme="https://www.delta1037.cn/categories/%E6%B8%B8%E6%88%8F/"/>
    
    
    <category term="Terraria" scheme="https://www.delta1037.cn/tags/Terraria/"/>
    
    <category term="游戏" scheme="https://www.delta1037.cn/tags/%E6%B8%B8%E6%88%8F/"/>
    
  </entry>
  
  <entry>
    <title>tModLoader服务端搭建</title>
    <link href="https://www.delta1037.cn/2021/Game/tModLoader%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%90%AD%E5%BB%BA/"/>
    <id>https://www.delta1037.cn/2021/Game/tModLoader%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%90%AD%E5%BB%BA/</id>
    <published>2021-05-19T16:00:00.000Z</published>
    <updated>2023-02-12T07:50:51.410Z</updated>
    
    <content type="html"><![CDATA[<p>tModLoader服务端搭建。</p><p>tModLoader是Terraria的Mod版本，服务端发布在github，tModLoader服务端的运行需要Terraria的服务端的支持。</p><span id="more"></span><h2 id="一、环境准备"><a href="#一、环境准备" class="headerlink" title="一、环境准备"></a><strong>一、环境准备</strong></h2><ul><li>Linux x86_64（CentOS 8）</li></ul><h2 id="二、搭建"><a href="#二、搭建" class="headerlink" title="二、搭建"></a><strong>二、搭建</strong></h2><h3 id="2-1-下载"><a href="#2-1-下载" class="headerlink" title="2.1 下载"></a><strong>2.1 下载</strong></h3><p>在<a href="https://github.com/tModLoader/tModLoader/releases">tModLoader发布页</a>下载最新版本的发布版本，并在Terraria<a href="https://terraria.org/">官网地址</a>最下方点击<a href="https://terraria.org/system/dedicated_servers/archives/000/000/046/original/terraria-server-1423.zip?1621172068">PC Dedicated Server</a>（此链接版本为1423版本）即可下载最新版本的Terraria服务端。获取到包：</p><ul><li>terraria-server-1423.zip ： Terraria最新安装包</li><li>tModLoader.Linux.v0.11.8.4.zip ： tModLoader最新发布的包</li></ul><h3 id="2-2-安装"><a href="#2-2-安装" class="headerlink" title="2.2 安装"></a><strong>2.2 安装</strong></h3><p>安装服务端：</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 创建服务端安装位置，并切换到安装位置</span><br><span class="line">mkdir -p /opt/t_mod_server/server</span><br><span class="line">cd /opt/t_mod_server/server</span><br><span class="line"></span><br><span class="line"># 将Terraria的服务端的安装包拷贝到安装位置并使用unzip解压</span><br><span class="line">unzip terraria-server-1423.zip</span><br><span class="line"># 将解压的文件拷贝到当前目录中</span><br><span class="line">cp -r 1423/Linux/* ./</span><br><span class="line"></span><br><span class="line"># 将tModLoader的安装包拷贝到安装位置并使用unzip解压，这个时候tModLoader解压的文件会替换Terraria服务端文件中的部分文件</span><br><span class="line">unzip tModLoader.Linux.v0.11.8.4.zip</span><br><span class="line"></span><br><span class="line"># 给文件赋予可执行权限</span><br><span class="line">chmod +x -R ./  # 注意这里是图方便给改文件夹下所有的文件赋予了可执行权限，也可以单独给需要的文件赋予可执行权限</span><br></pre></td></tr></table></figure><h3 id="2-3-配置"><a href="#2-3-配置" class="headerlink" title="2.3 配置"></a><strong>2.3 配置</strong></h3><p>创建配置文件路径、Mod路径和地图路径</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 创建配置路径</span><br><span class="line">mkdir -p /opt/t_mod_server/config</span><br><span class="line"></span><br><span class="line"># 使用自定义Mod位置和地图位置配置</span><br><span class="line">## 创建Mod路径，Mod路径中存放mod和一个表示是否开启Mod的json文件，如果不清楚等下可以由系统创建</span><br><span class="line">mkdir -p /opt/t_mod_server/Mods</span><br><span class="line">## 创建地图路径</span><br><span class="line">mkdir -p /opt/t_mod_server/Worlds</span><br></pre></td></tr></table></figure><p>新建并编辑配置文件</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /opt/t_mod_server/config/t_mod_loader_config</span><br></pre></td></tr></table></figure><p>配置文件内容如下：</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># 最大连接个数</span><br><span class="line">maxplayers=3</span><br><span class="line"># 指定端口，默认是7777</span><br><span class="line">port=6666</span><br><span class="line"># 连接密码</span><br><span class="line">password=1037forest</span><br><span class="line"></span><br><span class="line"># Mod路径和地图路径</span><br><span class="line">modpath=/opt/t_mod_server/Mods</span><br><span class="line">world=/opt/t_mod_server/Worlds/delta1037.wld</span><br><span class="line"></span><br><span class="line"># 语言</span><br><span class="line">language=zh</span><br><span class="line"></span><br><span class="line"># 创建新地图参数</span><br><span class="line">## 地图难度</span><br><span class="line">difficulty=0</span><br><span class="line">## 地图大小 1(小), 2(中), and 3(大).</span><br><span class="line">autocreate=3</span><br><span class="line">## 地图路径和名字</span><br><span class="line">worldpath=/opt/terraria_server/Worlds</span><br><span class="line">worldname=delta1037.wld</span><br></pre></td></tr></table></figure><p>完整的参数见<a href="https://github.com/tModLoader/tModLoader/wiki/Starting-a-modded-server">Starting a modded server</a>和<a href="https://terraria.fandom.com/wiki/Server#Server_config_file">Terraria官方配置说明</a></p><p>Mod路径下的内容：</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">➜  Mods pwd</span><br><span class="line">/opt/t_mod_server/Mods</span><br><span class="line">➜  Mods ls</span><br><span class="line">enabled.json              MagicStorage_v0.4.3.5.tmod   Split_v0.4.0.13.tmod</span><br><span class="line">Localizer_v1.5.0.19.tmod  RecipeBrowser_v0.8.8.2.tmod  ThoriumMod_v1.6.4.1.tmod</span><br><span class="line"></span><br><span class="line"># 注：Mod路径下除了一个enabled.json文件其余全是Mod文件</span><br></pre></td></tr></table></figure><p><code>enabled.json</code>文件内容（该json文件是一个字符串列表，每一个字符串是Mod的名字，如果需要去掉某个Mod需要将对应的字符串删除，即不加载该Mod）：</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &quot;Split&quot;,</span><br><span class="line">  &quot;RecipeBrowser&quot;,</span><br><span class="line">  &quot;MagicStorage&quot;,</span><br><span class="line">  &quot;ThoriumMod&quot;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p><strong>注意!!!：</strong></p><p>1、Mod路径和地图路径默认位置在<code>/username/.local/share/Terraria/ModLoader</code>，<code>username</code>是当前登录用户的用户名</p><p>2、<strong>当不知道</strong>**<code>enabled.json</code>**<strong>的格式是什么样的时候</strong>，将需要加载的mod放入到<code>/root/.local/share/Terraria/ModLoader/Mods</code>中，切换到tModLoader主程序文件夹<code>/opt/t_mod_server/server</code>中，不加参数直接启动主程序（启动：<code>./tModLoaderServer.bin.x86_64</code>）,显示输出类似如下：</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Terraria Server v1.3.5.3 - tModLoader v0.11.8.4</span><br><span class="line"></span><br><span class="line">1               1037forest</span><br><span class="line">2               test</span><br><span class="line">n       New World</span><br><span class="line">d &lt;number&gt;Delete World</span><br><span class="line">m               Mods Menu</span><br><span class="line">b               Mod Browser</span><br><span class="line"></span><br><span class="line">Choose World:</span><br></pre></td></tr></table></figure><p>输入<code>m</code>可以选择是否加载（enable）mod或者取消（disable）mod</p><p>界面如下：</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Terraria Server v1.3.5.3 - tModLoader v0.11.8.4</span><br><span class="line"></span><br><span class="line">1               Localizer (enabled)</span><br><span class="line">2               Magic Storage (enabled)</span><br><span class="line">3               Recipe Browser (enabled)</span><br><span class="line">4               Split (enabled)</span><br><span class="line">5               Thorium Mod (enabled)</span><br><span class="line">e               Enable All</span><br><span class="line">d               Disable All</span><br><span class="line">r               Reload and return to world menu</span><br><span class="line">Type a number to switch between enabled/disabled</span><br><span class="line"></span><br><span class="line">Type a command:</span><br></pre></td></tr></table></figure><p>选择完成之后使用<code>r</code>重载并返回到上一级，这时使用<code>Ctrl + C</code>退出，即可获取到<code>/root/.local/share/Terraria/ModLoader/Mods/enable.json</code>文件，将该文件拷贝到指定的Mod路径下即可使用。</p><h2 id="2-4-启动"><a href="#2-4-启动" class="headerlink" title="2.4 启动"></a><strong>2.4 启动</strong></h2><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 进入到主程序目录</span><br><span class="line">cd /opt/t_mod_server/server</span><br><span class="line"></span><br><span class="line"># 使用配置文件启动</span><br><span class="line">./tModLoaderServer.bin.x86_64 -config /opt/t_mod_server/config/t_mod_loader_config</span><br></pre></td></tr></table></figure><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a><strong>参考</strong></h2><p>【0】<a href="https://github.com/tModLoader/tModLoader/wiki/Starting-a-modded-server">Starting a modded server</a></p><p>【1】<a href="https://www.reddit.com/r/Terraria/comments/7dbkfe/how_to_create_a_tmodloadermodded_server_on_linux/">How to create a tModLoader&#x2F;Modded server on Linux</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;tModLoader服务端搭建。&lt;/p&gt;
&lt;p&gt;tModLoader是Terraria的Mod版本，服务端发布在github，tModLoader服务端的运行需要Terraria的服务端的支持。&lt;/p&gt;</summary>
    
    
    
    <category term="游戏" scheme="https://www.delta1037.cn/categories/%E6%B8%B8%E6%88%8F/"/>
    
    
    <category term="Terraria" scheme="https://www.delta1037.cn/tags/Terraria/"/>
    
    <category term="游戏" scheme="https://www.delta1037.cn/tags/%E6%B8%B8%E6%88%8F/"/>
    
  </entry>
  
  <entry>
    <title>pg_repack Window编译安装</title>
    <link href="https://www.delta1037.cn/2021/Deploy/pg_repackWindow%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/"/>
    <id>https://www.delta1037.cn/2021/Deploy/pg_repackWindow%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/</id>
    <published>2021-05-16T16:00:00.000Z</published>
    <updated>2023-02-12T07:50:51.395Z</updated>
    
    <content type="html"><![CDATA[<p>在Window上编译安装pg_repack （在线清理表空间插件）</p><span id="more"></span><h1 id="pg-repack-Window编译安装"><a href="#pg-repack-Window编译安装" class="headerlink" title="pg_repack Window编译安装"></a><strong>pg_repack Window编译安装</strong></h1><h2 id="一、编译准备"><a href="#一、编译准备" class="headerlink" title="一、编译准备"></a><strong>一、编译准备</strong></h2><h3 id="1-1-pg-repack下载"><a href="#1-1-pg-repack下载" class="headerlink" title="1.1 pg_repack下载"></a><strong>1.1 pg_repack下载</strong></h3><p>pg_repack下载位置：<a href="https://pgxn.org/dist/pg_repack/1.4.6/">https://pgxn.org/dist/pg_repack&#x2F;1.4.6&#x2F;</a></p><p>目前最新版本为4.6版本</p><h3 id="1-2-postgres版本选择"><a href="#1-2-postgres版本选择" class="headerlink" title="1.2 postgres版本选择"></a><strong>1.2 postgres版本选择</strong></h3><p>编译时需要在编译机器上<strong>安装</strong>postgre，官网可以下载到的版本是9.6.21，经测试9.6.21可以使用</p><h2 id="二、编译pg-repack"><a href="#二、编译pg-repack" class="headerlink" title="二、编译pg_repack"></a><strong>二、编译pg_repack</strong></h2><p><strong>注：已经做完以下所有配置和修改的代码打包为pg_repack-1.4.6_modify.zip，使用vs2013打开解压之后其中的msvc文件夹下的pg_repack.sln即可编译。</strong></p><h3 id="2-1使用vs2013打开pg-repack"><a href="#2-1使用vs2013打开pg-repack" class="headerlink" title="2.1使用vs2013打开pg_repack"></a><strong>2.1使用vs2013打开pg_repack</strong></h3><p>pg_repack-1.4.6.zip解压得到pg_repack-1.4.6目录，进入pg_repack-1.4.6\msvc可以看到2010的sln文件，经测试vs2013版本也可以正常编译，使用vs2013打开pg_repack.sln并升级，可以看到bin和lib两个项目</p><h3 id="2-2添加并选择pg-repack-64位编译配置"><a href="#2-2添加并选择pg-repack-64位编译配置" class="headerlink" title="2.2添加并选择pg_repack 64位编译配置"></a><strong>2.2添加并选择pg_repack 64位编译配置</strong></h3><p>鼠标右键点击解决方案pg_repack，选择<strong>配置属性-&gt;配置</strong>，可以看到bin和lib两个项目都是32位平台下的配置，如下图所示：</p><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Deploy_pg_repackWindow%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85_%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E9%85%8D%E7%BD%AE.png" alt="解决方案配置"></p><p>我们需要x64位平台配置，点击右上角配置管理器，点击如下图红框所标示的下拉按钮位置，并选择新建</p><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Deploy_pg_repackWindow%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85_%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86%E5%99%A8%E9%85%8D%E7%BD%AE.png" alt="配置管理器配置"></p><p>新平台选择x64，并选择从Win32复制，如下图</p><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Deploy_pg_repackWindow%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85_%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86%E5%99%A8%E6%96%B0%E5%BB%BA%E5%B9%B3%E5%8F%B0.png" alt="配置管理器新建平台"></p><p>新建完成之后返回到<strong>配置属性-&gt;配置</strong>，选择刚刚新建的x64平台，选择完成如下图：</p><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Deploy_pg_repackWindow%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85_%E9%80%89%E6%8B%A9%E5%B9%B3%E5%8F%B0.png" alt="选择平台"></p><h3 id="2-3禁用将警告视为错误"><a href="#2-3禁用将警告视为错误" class="headerlink" title="2.3禁用将警告视为错误"></a><strong>2.3禁用将警告视为错误</strong></h3><p>bin和lib两个项目都要禁用将警告视为错误，以下以bin项目为例，lib项目同理。</p><p>bin项目禁用将警告视为错误：选中bin项目，点击鼠标右键，选择<strong>配置属性-&gt;C&#x2F;C++-&gt;常规</strong>，将警告视为错误选择否，如下图：</p><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Deploy_pg_repackWindow%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85_%E7%A6%81%E7%94%A8%E5%B0%86%E8%AD%A6%E5%91%8A%E8%A7%86%E4%B8%BA%E9%94%99%E8%AF%AF.png" alt="禁用将警告视为错误"></p><p>lib项目进行同样的操作。</p><h3 id="2-4注册PostgreSQL的目录"><a href="#2-4注册PostgreSQL的目录" class="headerlink" title="2.4注册PostgreSQL的目录"></a><strong>2.4注册PostgreSQL的目录</strong></h3><p>bin和lib两个项目都要注册PostgreSQL的包含目录和库目录，以下以bin项目为例，lib项目同理。</p><p>bin项目添加包含目录：选中bin项目，点击鼠标右键，选择<strong>配置属性-&gt;VC++目录</strong>，选择如下图所示的下拉位置并点击编辑</p><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Deploy_pg_repackWindow%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85_%E6%B7%BB%E5%8A%A0%E5%8C%85%E5%90%AB%E7%9B%AE%E5%BD%95.png" alt="添加包含目录"></p><p>添加PostgreSQL的头文件目录（根据实际PostgreSQL安装目录决定）：</p><p>C:\Program Files\PostgreSQL\9.6\include</p><p>C:\Program Files\PostgreSQL\9.6\include\internal</p><p>C:\Program Files\PostgreSQL\9.6\include\server</p><p>C:\Program Files\PostgreSQL\9.6\include\server\port\win32</p><p>C:\Program Files\PostgreSQL\9.6\include\server\port\win32_msvc</p><p>添加完成后如下图所示：</p><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Deploy_pg_repackWindow%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85_%E6%B7%BB%E5%8A%A0%E5%8C%85%E5%90%AB%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%9C.png" alt="添加包含目录结果"></p><p>bin项目添加库目录：选中bin项目，点击鼠标右键，选择<strong>配置属性-&gt;VC++目录</strong>，选择库目录位置，如下图，</p><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Deploy_pg_repackWindow%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85_%E6%B7%BB%E5%8A%A0%E5%BA%93%E7%9B%AE%E5%BD%95.png" alt="添加库目录"></p><p>添加PostgreSQL的库文件目录（根据实际PostgreSQL安装目录决定）：</p><p>C:\Program Files\PostgreSQL\9.6\bin</p><p>C:\Program Files\PostgreSQL\9.6\lib</p><p>添加完成后如下图所示：</p><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Deploy_pg_repackWindow%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85_%E6%B7%BB%E5%8A%A0%E5%BA%93%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%9C.png" alt="添加库目录结果"></p><p>lib项目同样的操作，注册PostgreSQL的包含目录和库目录。</p><h3 id="2-5删除lib项目不存在的源文件"><a href="#2-5删除lib项目不存在的源文件" class="headerlink" title="2.5删除lib项目不存在的源文件"></a><strong>2.5删除lib项目不存在的源文件</strong></h3><p>lib项目src路径下有一个不存在的文件pgut-be.c，选中并delete即可。删除之后如下图</p><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Deploy_pg_repackWindow%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85_%E5%88%A0%E9%99%A4lib%E9%A1%B9%E7%9B%AE%E4%B8%8D%E5%AD%98%E5%9C%A8%E7%9A%84%E6%BA%90%E6%96%87%E4%BB%B6.png" alt="删除lib项目不存在的源文件"></p><h3 id="2-6-bin项目修改链接库"><a href="#2-6-bin项目修改链接库" class="headerlink" title="2.6 bin项目修改链接库"></a><strong>2.6 bin项目修改链接库</strong></h3><p>选中bin项目，点击鼠标右键，选择<strong>配置属性-&gt;链接器-&gt;输入</strong>，选择附加依赖项并展开选择编辑</p><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Deploy_pg_repackWindow%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85_%E4%BF%AE%E6%94%B9%E9%93%BE%E6%8E%A5%E5%BA%93.png" alt="修改链接库"></p><p>1、libintl-8.lib修改为libintl.lib</p><p>2、添加postgres.lib</p><p>修改完成之后如下图所示</p><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Deploy_pg_repackWindow%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85_%E4%BF%AE%E6%94%B9%E9%93%BE%E6%8E%A5%E5%BA%93%E7%BB%93%E6%9E%9C.png" alt="修改链接库结果"></p><h3 id="2-7打入版本号"><a href="#2-7打入版本号" class="headerlink" title="2.7打入版本号"></a><strong>2.7打入版本号</strong></h3><p>bin和lib两个项目在编译时无法打入版本号，所以对源代码repack.c和pg_repack.c文件进行了修改，修改之后如下</p><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Deploy_pg_repackWindow%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85_%E6%89%93%E5%85%A5%E7%89%88%E6%9C%AC%E5%8F%B7.png" alt="打入版本号"></p><p>bin项目为例，点击鼠标右键，选择<strong>配置属性-&gt;C&#x2F;C++-&gt;命令行</strong>，在其它选项框中填入&#x2F;D “WIN_BUILD”，如下图：</p><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Deploy_pg_repackWindow%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85_%E5%85%B6%E5%AE%83%E9%80%89%E9%A1%B9.png" alt="其它选项"></p><p>lib项目需要做同样的配置</p><h3 id="2-8编译项目"><a href="#2-8编译项目" class="headerlink" title="2.8编译项目"></a><strong>2.8编译项目</strong></h3><p>分别选中bin和lib两个项目（不分先后），鼠标右键选择生成。</p><p>生成的文件在pg_repack-1.4.6\msvc\x64\Release相对路径下，有pg_repack.dll和pg_repack.exe两个文件</p><h2 id="三、插件文件汇总"><a href="#三、插件文件汇总" class="headerlink" title="三、插件文件汇总"></a><strong>三、插件文件汇总</strong></h2><p><strong>注：已经做完编译和修改的文件在压缩包中可以看到</strong></p><h3 id="3-1-pg-repack二进制文件"><a href="#3-1-pg-repack二进制文件" class="headerlink" title="3.1 pg_repack二进制文件"></a><strong>3.1 pg_repack二进制文件</strong></h3><p>上边编译好的pg_repack.dll和pg_repack.exe两个文件</p><h3 id="3-2-pg-repack扩展安装辅助文件"><a href="#3-2-pg-repack扩展安装辅助文件" class="headerlink" title="3.2 pg_repack扩展安装辅助文件"></a><strong>3.2 pg_repack扩展安装辅助文件</strong></h3><p>在pg_repack-1.4.6\lib相对路径下有pg_repack.sql.in和pg_repack.control.in两个文件，分别拷贝为pg_repack.sql和pg_repack.control</p><p>打开pg_repack.sql文件，将REPACK_VERSION替换为版本号1.4.6</p><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Deploy_pg_repackWindow%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85_REPACK_VERSION%E6%9B%BF%E6%8D%A2%E5%89%8D.png" alt="REPACK_VERSION替换前"></p><p>修改之后为</p><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Deploy_pg_repackWindow%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85_REPACK_VERSION%E6%9B%BF%E6%8D%A2%E5%90%8E.png" alt="REPACK_VERSION替换后"></p><p>打开pg_repack.control文件</p><p>将REPACK_VERSION替换为版本号1.4.6；替换module_pathname的值为实际的插件安装DLL文件的路径（插件安装在后续介绍）</p><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Deploy_pg_repackWindow%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85_module_pathname%E4%BF%AE%E6%94%B9%E5%89%8D.png" alt="module_pathname修改前"></p><p>修改之后</p><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Deploy_pg_repackWindow%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85_module_pathname%E4%BF%AE%E6%94%B9%E5%90%8E.png" alt="module_pathname修改后"></p><h2 id="四、插件安装"><a href="#四、插件安装" class="headerlink" title="四、插件安装"></a><strong>四、插件安装</strong></h2><h3 id="4-1放入插件相关文件"><a href="#4-1放入插件相关文件" class="headerlink" title="4.1放入插件相关文件"></a><strong>4.1放入插件相关文件</strong></h3><p>以下描述使用相对路径，均为pStor中PostgreSQL的路径</p><p>1、pg_repack–1.4.6.sql和pg_repack.control放入到PostgreSQL\share\extension\中</p><p>2、pg_repack.dll和pg_repack.exe放入到PostgreSQL\bin\中</p><p><strong>注意</strong>pg_repack.control中module_pathname的值与pg_repack.dll路径位置一致</p><h3 id="4-2登录到数据库并添加插件"><a href="#4-2登录到数据库并添加插件" class="headerlink" title="4.2登录到数据库并添加插件"></a><strong>4.2登录到数据库并添加插件</strong></h3><p>1、登录到<strong>想要使用插件的数据库</strong>（cmd中PostgreSQL\bin\路径下运行，注：使用<strong>管理员用户</strong>，否则权限不够无法添加）</p><p>psql.exe -h hostname -p port -d database_name -U super_user</p><p>2、 安装插件（在登录之后的提示命令中执行），</p><p>执行命令：create extension pg_repack;</p><p>使用\dx列出插件看是否安装成功：</p><p><img src="https://delta1037.oss-cn-beijing.aliyuncs.com/notion2hexo/Deploy_pg_repackWindow%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85_%E5%88%97%E5%87%BA%E6%8F%92%E4%BB%B6.png" alt="列出插件"></p><p>注：卸载插件命令（drop extension pg_repack;）</p><p>3、 检查是否安装成功（在cmd中PostgreSQL\bin\路径下运行，应该输出pg_repack版本号）</p><p>pg_repack –version</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;在Window上编译安装pg_repack （在线清理表空间插件）&lt;/p&gt;</summary>
    
    
    
    <category term="部署" scheme="https://www.delta1037.cn/categories/%E9%83%A8%E7%BD%B2/"/>
    
    
    <category term="软件" scheme="https://www.delta1037.cn/tags/%E8%BD%AF%E4%BB%B6/"/>
    
    <category term="PostgreSQL" scheme="https://www.delta1037.cn/tags/PostgreSQL/"/>
    
  </entry>
  
  <entry>
    <title>IP字符串数字互转</title>
    <link href="https://www.delta1037.cn/2021/Linux/IP%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%95%B0%E5%AD%97%E4%BA%92%E8%BD%AC/"/>
    <id>https://www.delta1037.cn/2021/Linux/IP%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%95%B0%E5%AD%97%E4%BA%92%E8%BD%AC/</id>
    <published>2021-05-16T16:00:00.000Z</published>
    <updated>2023-02-12T07:50:51.413Z</updated>
    
    <content type="html"><![CDATA[<p>封装的IP字符串与数字互转接口</p><span id="more"></span><h2 id="一、字符串转数字"><a href="#一、字符串转数字" class="headerlink" title="一、字符串转数字"></a><strong>一、字符串转数字</strong></h2><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">    @func: IP字符串形式转换成数字形式，支持IPV6</span><br><span class="line">    @note: IP字符串中包含&#x27;:&#x27;则认为是IPV6</span><br><span class="line">        IPV4返回值保存到 ip_num_low , IPV6返回值保存到 ip_num_high+ip_num_low</span><br><span class="line">*/</span><br><span class="line">struct IPNum</span><br><span class="line">&#123;</span><br><span class="line">    int is_ipv6;</span><br><span class="line">    uint64_t ip_num_low;</span><br><span class="line">    uint64_t ip_num_high;</span><br><span class="line">    IPNum()</span><br><span class="line">    &#123;</span><br><span class="line">        is_ipv6 = 0;</span><br><span class="line">        ip_num_low = 0;</span><br><span class="line">        ip_num_high = 0;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">int ip2num(const std::string &amp;ip_str, IPNum &amp;ip_num)</span><br><span class="line">&#123;</span><br><span class="line">    if(ip_str.find(&#x27;:&#x27;) != std::string::npos)</span><br><span class="line">    &#123;</span><br><span class="line">        struct in6_addr ipv6&#123;&#125;;</span><br><span class="line">        inet_pton(AF_INET6, ip_str.c_str(), &amp;ipv6);</span><br><span class="line">        ip_num.ip_num_low = ipv6.s6_addr32[2];</span><br><span class="line">        ip_num.ip_num_low = ipv6.s6_addr32[3] | (ip_num.ip_num_low &lt;&lt; 32);</span><br><span class="line">        ip_num.ip_num_high = ipv6.s6_addr32[0];</span><br><span class="line">        ip_num.ip_num_high = ipv6.s6_addr32[1] | (ip_num.ip_num_high &lt;&lt; 32);</span><br><span class="line">        ip_num.is_ipv6 = 1;</span><br><span class="line">    &#125;</span><br><span class="line">    else</span><br><span class="line">    &#123;</span><br><span class="line">        ip_num.ip_num_low = inet_addr(ip_str.c_str());</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="二、数字转字符串"><a href="#二、数字转字符串" class="headerlink" title="二、数字转字符串"></a><strong>二、数字转字符串</strong></h2><p>待续。。。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;封装的IP字符串与数字互转接口&lt;/p&gt;</summary>
    
    
    
    <category term="Linux" scheme="https://www.delta1037.cn/categories/Linux/"/>
    
    
    <category term="IP" scheme="https://www.delta1037.cn/tags/IP/"/>
    
    <category term="封装" scheme="https://www.delta1037.cn/tags/%E5%B0%81%E8%A3%85/"/>
    
  </entry>
  
  <entry>
    <title>Linux 后台执行</title>
    <link href="https://www.delta1037.cn/2021/Linux/Linux%E5%90%8E%E5%8F%B0%E6%89%A7%E8%A1%8C/"/>
    <id>https://www.delta1037.cn/2021/Linux/Linux%E5%90%8E%E5%8F%B0%E6%89%A7%E8%A1%8C/</id>
    <published>2021-05-16T16:00:00.000Z</published>
    <updated>2023-02-12T07:50:51.413Z</updated>
    
    <content type="html"><![CDATA[<p>Linux 后台执行程序</p><span id="more"></span><p>以下例子来源于网络，位置记不清了，后续补上</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;sys/types.h&gt;</span><br><span class="line">#include &lt;sys/stat.h&gt;</span><br><span class="line">int start_bg()</span><br><span class="line">&#123;</span><br><span class="line">    pid_t pid;</span><br><span class="line">    // 1.转变为后台进程</span><br><span class="line">    if ((pid = fork() ) != 0 )</span><br><span class="line">        exit( 0);</span><br><span class="line"></span><br><span class="line">    // 2.离开原先的进程组</span><br><span class="line">    setsid();</span><br><span class="line"></span><br><span class="line">    // 3.禁止再次打开控制终端</span><br><span class="line">    if ((pid = fork()) != 0)</span><br><span class="line">    &#123;</span><br><span class="line">        exit(0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 4.关闭打开的文件描述符，避免浪费系统资源</span><br><span class="line">    rlimit rlim;</span><br><span class="line">    if(getrlimit(RLIMIT_NOFILE,&amp;rlim) == 0)</span><br><span class="line">    &#123;</span><br><span class="line">        for(int fd=3; fd&lt;=(int)rlim.rlim_cur; fd++)</span><br><span class="line">        &#123;</span><br><span class="line">            close(fd);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 5.改变当前的工作目录，避免卸载不了文件系统</span><br><span class="line">    if (chdir(&quot;/&quot;) == -1) exit(1);</span><br><span class="line"></span><br><span class="line">    // 6.重设文件掩码，防止某些属性被父进程屏蔽</span><br><span class="line">    umask(0);</span><br><span class="line">    setpgrp();</span><br><span class="line"></span><br><span class="line">    // 7.重定向标准输入，输出，错误流，因为守护进程没有控制终端</span><br><span class="line">    if ((fd = open(&quot;/dev/null&quot;, O_RDWR)) == -1)</span><br><span class="line">    &#123;</span><br><span class="line">        exit(1);</span><br><span class="line">    &#125;</span><br><span class="line">    dup2(fd, STDIN_FILENO);</span><br><span class="line">    dup2(fd, STDOUT_FILENO);</span><br><span class="line">    dup2(fd, STDERR_FILENO);</span><br><span class="line">    close(fd);</span><br><span class="line"></span><br><span class="line">    // 8.屏蔽信号</span><br><span class="line">    signal( SIGINT,  SIG_IGN);</span><br><span class="line">    signal( SIGHUP,  SIG_IGN);</span><br><span class="line">    signal( SIGQUIT, SIG_IGN);</span><br><span class="line">    signal( SIGPIPE, SIG_IGN);</span><br><span class="line">    signal( SIGTTOU, SIG_IGN);</span><br><span class="line">    signal( SIGTTIN, SIG_IGN);</span><br><span class="line">    signal( SIGCHLD, SIG_IGN);</span><br><span class="line">    signal( SIGTERM, SIG_IGN);</span><br><span class="line"></span><br><span class="line">    struct sigaction sig;</span><br><span class="line">    sig.sa_handler = SIG_IGN;</span><br><span class="line">    sig.sa_flags = 0;</span><br><span class="line">    sigemptyset( &amp;sig.sa_mask);</span><br><span class="line">    sigaction( SIGHUP,&amp;sig,NULL);</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;Linux 后台执行程序&lt;/p&gt;</summary>
    
    
    
    <category term="Linux" scheme="https://www.delta1037.cn/categories/Linux/"/>
    
    
    <category term="C/C++" scheme="https://www.delta1037.cn/tags/C-C/"/>
    
    <category term="Linux" scheme="https://www.delta1037.cn/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>块设备层中IO事件统计</title>
    <link href="https://www.delta1037.cn/2021/Linux/%E5%9D%97%E8%AE%BE%E5%A4%87%E5%B1%82%E4%B8%ADIO%E4%BA%8B%E4%BB%B6%E7%BB%9F%E8%AE%A1/"/>
    <id>https://www.delta1037.cn/2021/Linux/%E5%9D%97%E8%AE%BE%E5%A4%87%E5%B1%82%E4%B8%ADIO%E4%BA%8B%E4%BB%B6%E7%BB%9F%E8%AE%A1/</id>
    <published>2021-05-16T16:00:00.000Z</published>
    <updated>2023-02-12T07:50:51.438Z</updated>
    
    <content type="html"><![CDATA[<p>块设备层中IO事件统计</p><span id="more"></span><h2 id="一、可统计的内容"><a href="#一、可统计的内容" class="headerlink" title="一、可统计的内容"></a><strong>一、可统计的内容</strong></h2><p>1、IO合并的比例（传入的IO请求&#x2F;合并后传入设备驱动的请求），合并后块大小统计<br>2、块设备层中IO各个阶段的时间统计（生成IO请求时间、IO调度时间和驱动和硬件上消耗的时间等，分析IO性能瓶颈）</p><h2 id="二、统计方法"><a href="#二、统计方法" class="headerlink" title="二、统计方法"></a><strong>二、统计方法</strong></h2><p><code>blktrace + blkparse + btt</code></p><p>1、开启监测</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ blktrace -d /dev/sda</span><br><span class="line"># 其中-d指定监测的设备，运行时无终端输出，使用Ctrl+C终止</span><br></pre></td></tr></table></figure><p>2、整理结果<br>blktrace在执行的目录中生成sdc.blktrace.X文件，x代表CPU id，此文件无法直接读取，使用blkparse解析这些文件</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ blkparse -i sdc</span><br><span class="line"># 解析文件，-i指定了输入文件</span><br></pre></td></tr></table></figure><p><strong>输出及其解释：</strong></p><p>每一个IO的输出格式</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">8,32   1  1201902    31.648378780     7  M   W 35726288 + 8 [kworker/u49:0]</span><br><span class="line">#   第一个字段：8,32 这个字段是设备号 major device ID和minor device ID。</span><br><span class="line">#   第二个字段：1 表示CPU</span><br><span class="line">#   第三个字段：1201902 序列号</span><br><span class="line">#   第四个字段：31.648378780 Time Stamp是时间偏移</span><br><span class="line">#   第五个字段：PID 本次IO对应的进程ID</span><br><span class="line">#   第六个字段：Event，这个字段非常重要，反映了IO进行到了那一步</span><br><span class="line">#   第七个字段：R表示 Read， W是Write，D表示block，B表示Barrier Operation</span><br><span class="line">#   第八个字段：35726288 + 8，表示的是起始block number 和 number of blocks，即我们常说的Offset 和 Size</span><br><span class="line">#   第九个字段： 进程名</span><br></pre></td></tr></table></figure><p>合计格式</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Total (sdc):</span><br><span class="line">Reads Queued:           0,        0KiB  Writes Queued:       1,392K,    5,570MiB</span><br><span class="line">Read Dispatches:        0,        0KiB  Write Dispatches:   10,869,    5,564MiB</span><br><span class="line">Reads Requeued:         0               Writes Requeued:         0</span><br><span class="line">Reads Completed:        0,        0KiB  Writes Completed:   10,869,    5,564MiB</span><br><span class="line">Read Merges:            0,        0KiB  Write Merges:        1,381K,    5,527MiB</span><br><span class="line">PC Reads Queued:        0,        0KiB  PC Writes Queued:        0,        0KiB</span><br><span class="line">PC Read Disp.:         15,        0KiB  PC Write Disp.:          0,        0KiB</span><br><span class="line">PC Reads Req.:          0               PC Writes Req.:          0</span><br><span class="line">PC Reads Compl.:        7               PC Writes Compl.:        0</span><br><span class="line">IO unplugs:           743               Timer unplugs:           0</span><br></pre></td></tr></table></figure><p>blkparse的结果不是很清晰，可以使用btt进行进一步的分析<br>先将blktrace生成的文件整合到一个文件中：</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ blkparse -O -i sdc -d sdc.blktrace.bin</span><br></pre></td></tr></table></figure><p>使用btt进行进一步的分析：</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ btt -A -i sdc.blktrace.bin</span><br></pre></td></tr></table></figure><p><strong>输出和解释：</strong></p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">一、IO请求到写入设备各个阶段的时间统计</span><br><span class="line">==================== All Devices ====================</span><br><span class="line">ALL           MIN           AVG           MAX           N</span><br><span class="line"></span><br><span class="line">--------------- ------------- ------------- ------------- -----------</span><br><span class="line">•   Q2Q               0.000000808   0.000022550   0.169176199     5017599</span><br><span class="line">•   Q2G               0.000000606   0.002694758   0.169166444       39199</span><br><span class="line">•   S2G               0.070385850   0.086264639   0.169165248        1224</span><br><span class="line">•   G2I               0.000146627   0.001615914   0.006145786       39199</span><br><span class="line">•   Q2M               0.000000149   0.000000254   0.000217874     4978400</span><br><span class="line">•   I2D               0.227251891   0.313646256   0.464198624       39103</span><br><span class="line">•   M2D               0.230494332   0.315166061   0.464387299     4966208</span><br><span class="line">•   D2C               0.056031007   0.095095120   0.210527104     5001087</span><br><span class="line">•   Q2C               0.338179300   0.410294069   0.596850606     5001087</span><br><span class="line">其中各个阶段说明：</span><br><span class="line">• Q2Q — time between requests sent to the block layer</span><br><span class="line">• Q2G — time from a block I/O is queued to the time it gets a request allocated for it</span><br><span class="line">• G2I — time from a request is allocated to the time it is Inserted into the device&#x27;s queue</span><br><span class="line">• Q2M — time from a block I/O is queued to the time it gets merged with an existing request</span><br><span class="line">• I2D — time from a request is inserted into the device&#x27;s queue to the time it is actually issued to the device</span><br><span class="line">• M2D — time from a block I/O is merged with an exiting request until the request is issued to the device</span><br><span class="line">• D2C — service time of the request by the device</span><br><span class="line">• Q2C — total time spent in the block layer for a request</span><br><span class="line">问题：Q2I + I2D + D2C = Q2C，实际测出来的并不相等，资料中的结果也是</span><br><span class="line"></span><br><span class="line">二、IO请求到写入设备各个阶段的占比</span><br><span class="line">==================== Device Overhead ====================</span><br><span class="line">DEV |       Q2G       G2I       Q2M       I2D       D2C</span><br><span class="line">---------- | --------- --------- --------- --------- ---------</span><br><span class="line">(  8, 32) |   0.0051%   0.0031%   0.0001%   0.5977%  23.1773%</span><br><span class="line">---------- | --------- --------- --------- --------- ---------</span><br><span class="line">Overall |   0.0051%   0.0031%   0.0001%   0.5977%  23.1773%</span><br><span class="line">当I2D很大的时候可以试试其它的IO调度策略</span><br><span class="line"></span><br><span class="line">三、IO合并的比例，Q表示传入的IO请求数量，D表示合并后发出的请求数量,Ratio表示合并的比例，BLKxxx表示合并后的块的大小最大值、最小值和平均值</span><br><span class="line">==================== Device Merge Information ====================</span><br><span class="line">DEV |       #Q       #D   Ratio |   BLKmin   BLKavg   BLKmax    Total</span><br><span class="line">---------- | -------- -------- ------- | -------- -------- -------- --------</span><br><span class="line">(  8, 32) |  5017600    39198   128.0 |     1024     1024     1024 40138752</span><br><span class="line"></span><br><span class="line">四、IO调度相关，当一个IO 进入Q状态时，调度器中此时有多少IO处于D状态</span><br><span class="line">==================== Active Requests At Q Information ====================</span><br><span class="line">DEV |  Avg Reqs @ Q</span><br><span class="line">---------- | -------------</span><br><span class="line">(  8, 32) |          14.9</span><br><span class="line"></span><br><span class="line">五、每一个进程的时间段统计</span><br><span class="line">==================== Per Process ====================</span><br><span class="line">Q2C           MIN           AVG           MAX           N</span><br><span class="line">--------------- ------------- ------------- ------------- -----------</span><br><span class="line">kworker           0.339407380   0.414291058   0.595046589     1374335</span><br><span class="line"></span><br><span class="line">六、Q2D统计直方图数据</span><br><span class="line">==================== Q2D Histogram ====================</span><br><span class="line">DEV | &lt;.005 &lt;.010 &lt;.025 &lt;.050 &lt;.075 &lt;.100 &lt;.250 &lt;.500 &lt; 1.0 &gt;=1.0</span><br><span class="line">--------- | ===== ===== ===== ===== ===== ===== ===== ===== ===== =====</span><br><span class="line">(  8, 32) |   0.0   0.0   0.0   0.0   0.0   0.0   0.0 100.0   0.0   0.0</span><br><span class="line">========== | ===== ===== ===== ===== ===== ===== ===== ===== ===== =====</span><br><span class="line">AVG |   0.0   0.0   0.0   0.0   0.0   0.0   0.0 100.0   0.0   0.0</span><br><span class="line"></span><br><span class="line">七、设备驱动或者设备具有IO的时间，与iostat的util类似</span><br><span class="line">==================== I/O Active Period Information ====================</span><br><span class="line">DEV |     # Live      Avg. Act     Avg. !Act % Live</span><br><span class="line">---------- | ---------- ------------- ------------- ------</span><br><span class="line">(  8, 32) |          1   0.000000000   0.000000000 100.00</span><br><span class="line">---------- | ---------- ------------- ------------- ------</span><br><span class="line">Total Sys |          1   0.000000000   0.000000000 100.00</span><br></pre></td></tr></table></figure><h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a><strong>参考文档</strong></h2><p>[0] <a href="http://git.kernel.dk/cgit/blktrace/tree/btt/doc/btt.tex">btt</a><br>[1] <a href="https://www.kernel.org/doc/html/latest/block/switching-sched.html">切换调度器-Linux</a><br>[2] <a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/monitoring_and_managing_system_status_and_performance/setting-the-disk-scheduler_monitoring-and-managing-system-status-and-performance">切换调度器-Redhat</a><br>[3] <a href="https://github.com/torvalds/linux/commit/f382fb0bcef4c37dc049e9f6963e3baf204d815c">单队列的移除</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;块设备层中IO事件统计&lt;/p&gt;</summary>
    
    
    
    <category term="Linux" scheme="https://www.delta1037.cn/categories/Linux/"/>
    
    
    <category term="Linux" scheme="https://www.delta1037.cn/tags/Linux/"/>
    
    <category term="Shell" scheme="https://www.delta1037.cn/tags/Shell/"/>
    
    <category term="IO" scheme="https://www.delta1037.cn/tags/IO/"/>
    
  </entry>
  
  <entry>
    <title>系统信息收集脚本</title>
    <link href="https://www.delta1037.cn/2021/Linux/%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E8%84%9A%E6%9C%AC/"/>
    <id>https://www.delta1037.cn/2021/Linux/%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E8%84%9A%E6%9C%AC/</id>
    <published>2021-05-16T16:00:00.000Z</published>
    <updated>2023-02-12T07:50:51.440Z</updated>
    
    <content type="html"><![CDATA[<p>使用<code>top</code>、<code>iostat</code>、<code>vmstat</code> 、<code>dstat</code>、<code>blktrace</code>、<code>pidstat</code>监控系统状态信息</p><span id="more"></span><p>执行方式：</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 开启统计</span><br><span class="line">./script_name start [output_filename_prefix]</span><br><span class="line"></span><br><span class="line"># 关闭统计</span><br><span class="line">./script_name stop</span><br></pre></td></tr></table></figure><p>脚本内容：</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br></pre></td><td class="code"><pre><span class="line">######## 性能数据收集脚本 ########</span><br><span class="line"># 开始/停止</span><br><span class="line">SWITCH=$&#123;1&#125;</span><br><span class="line"># 输出文件前缀</span><br><span class="line">OUTPUT_PREFIX=$&#123;2&#125;</span><br><span class="line"></span><br><span class="line">CURRENT_TIME=`date &quot;+%Y%m%d_%H%M%S&quot;`</span><br><span class="line">SCRIPT_ABS_PATH=$(cd `dirname $0`; pwd)</span><br><span class="line"># 临时存储进程pid</span><br><span class="line">STAT_PID_FILE=$&#123;SCRIPT_ABS_PATH&#125;/.stat_perf_pid</span><br><span class="line">ARG_IOSTAT_DISK=/dev/sdc</span><br><span class="line">BLKTRACE_SWITCH=1</span><br><span class="line">PIDSTAT_PROCESS_NAME=&quot;&quot;</span><br><span class="line"></span><br><span class="line">function program_exists() &#123;</span><br><span class="line">    local ret=&#x27;0&#x27;</span><br><span class="line">    command -v $1 &gt;/dev/null 2&gt;&amp;1 || &#123; local ret=&#x27;1&#x27;; &#125;</span><br><span class="line">    # 不存在返回0</span><br><span class="line">    if [ &quot;$ret&quot; -ne 0 ]; then</span><br><span class="line">        return 0</span><br><span class="line">    fi</span><br><span class="line">    return 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># iostat 信息收集</span><br><span class="line">function iostat_info() &#123;</span><br><span class="line">    iostat_info_filename=$&#123;SCRIPT_ABS_PATH&#125;/$&#123;OUTPUT_PREFIX&#125;_iostat_$&#123;CURRENT_TIME&#125;.log</span><br><span class="line"></span><br><span class="line">    # 清空文件</span><br><span class="line">    echo &quot;&quot; &gt; $&#123;iostat_info_filename&#125;</span><br><span class="line">    # 收集数据添加时间戳并写入文件</span><br><span class="line">    IOSTAT_ARGS=&quot;-x 3&quot;</span><br><span class="line">    if [ $&#123;ARG_IOSTAT_DISK&#125; ];then</span><br><span class="line">        IOSTAT_ARGS=&quot;$&#123;IOSTAT_ARGS&#125; -d $&#123;ARG_IOSTAT_DISK&#125;&quot;</span><br><span class="line">    fi</span><br><span class="line">    iostat $&#123;IOSTAT_ARGS&#125; | stdbuf -oL awk &#x27;&#123;print strftime(&quot;[%Y-%m-%d %H:%M:%S]&quot;),$0&#125;&#x27; &gt;&gt; $&#123;iostat_info_filename&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function top_info() &#123;</span><br><span class="line">    top_info_filename=$&#123;SCRIPT_ABS_PATH&#125;/$&#123;OUTPUT_PREFIX&#125;_top_$&#123;CURRENT_TIME&#125;.log</span><br><span class="line"></span><br><span class="line">    # 清空文件</span><br><span class="line">    echo &quot;&quot; &gt; $&#123;top_info_filename&#125;</span><br><span class="line">    # 收集数据并写入文件 5 s 一次,top取前30行数据</span><br><span class="line">    while : ; do</span><br><span class="line">        sleep 5</span><br><span class="line">        top -b -n 1 | stdbuf -oL awk &#x27;BEGIN&#123; i=0 &#125; &#123; if(i++&lt;30) print strftime(&quot;[%Y-%m-%d %H:%M:%S]&quot;),$0&#125;&#x27; &gt;&gt; $&#123;top_info_filename&#125;</span><br><span class="line">    done</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># vmstat 信息收集</span><br><span class="line">function vmstat_info() &#123;</span><br><span class="line">    vmstat_info_filename=$&#123;SCRIPT_ABS_PATH&#125;/$&#123;OUTPUT_PREFIX&#125;_vmstat_$&#123;CURRENT_TIME&#125;.log</span><br><span class="line"></span><br><span class="line">    # 清空文件</span><br><span class="line">    echo &quot;&quot; &gt; $&#123;vmstat_info_filename&#125;</span><br><span class="line">    # 收集数据并写入文件</span><br><span class="line">    vmstat -w 3 | stdbuf -oL awk &#x27;&#123;print strftime(&quot;[%Y-%m-%d %H:%M:%S]&quot;),$0&#125;&#x27; &gt;&gt; $&#123;vmstat_info_filename&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># dstat 信息收集</span><br><span class="line">function dstat_info() &#123;</span><br><span class="line">    dstat_info_filename=$&#123;SCRIPT_ABS_PATH&#125;/$&#123;OUTPUT_PREFIX&#125;_dstat_$&#123;CURRENT_TIME&#125;.log</span><br><span class="line"></span><br><span class="line">    # 清空文件</span><br><span class="line">    echo &quot;&quot; &gt; $&#123;dstat_info_filename&#125;</span><br><span class="line">    # 收集数据并写入文件</span><br><span class="line">    dstat | stdbuf -oL awk &#x27;&#123;print strftime(&quot;[%Y-%m-%d %H:%M:%S]&quot;),$0&#125;&#x27; &gt;&gt; $&#123;dstat_info_filename&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># blktrace 设备层 IO信息收集</span><br><span class="line">function blktrace_info() &#123;</span><br><span class="line">    # blktrace 会输出多个文件，所以创建文件夹</span><br><span class="line">    blktrace_info_dir=$&#123;SCRIPT_ABS_PATH&#125;/$(basename $&#123;ARG_IOSTAT_DISK&#125;)_blktrace_$&#123;OUTPUT_PREFIX&#125;_$&#123;CURRENT_TIME&#125;</span><br><span class="line">    mkdir -p $&#123;blktrace_info_dir&#125;</span><br><span class="line"></span><br><span class="line">    # 执行blktrace 等待Ctrl+C退出</span><br><span class="line">    cd $&#123;blktrace_info_dir&#125;</span><br><span class="line">    # echo &quot;blktrace dir $&#123;blktrace_info_dir&#125; cmd:blktrace -d $&#123;ARG_IOSTAT_DISK&#125;&quot;</span><br><span class="line">    blktrace -d $&#123;ARG_IOSTAT_DISK&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function pidstat_info() &#123;</span><br><span class="line">    pidstat_info_filename=$&#123;SCRIPT_ABS_PATH&#125;/$&#123;OUTPUT_PREFIX&#125;_pidstat_$&#123;CURRENT_TIME&#125;.log</span><br><span class="line">    # 清空文件</span><br><span class="line">    echo &quot;&quot; &gt; $&#123;pidstat_info_filename&#125;</span><br><span class="line">    # 收集数据并写入文件</span><br><span class="line">    pidstat -G $&#123;PIDSTAT_PROCESS_NAME&#125; -u 1 | stdbuf -oL awk &#x27;&#123;print strftime(&quot;[%Y-%m-%d %H:%M:%S]&quot;),$0&#125;&#x27; &gt;&gt; $&#123;pidstat_info_filename&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 输出文件前缀</span><br><span class="line">if [ -z &quot;$&#123;OUTPUT_PREFIX&#125;&quot; ];then</span><br><span class="line">    OUTPUT_PREFIX=&quot;default&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"># 开始或停止性能监测脚本</span><br><span class="line">if [ &quot;$&#123;SWITCH&#125;&quot; = &quot;start&quot; ];then</span><br><span class="line">    if [ -e $&#123;STAT_PID_FILE&#125; ];then</span><br><span class="line">        echo &quot;请勿重复运行,若想开启多个监测,将脚本拷贝到新的目录执行&quot;</span><br><span class="line">        exit -1</span><br><span class="line">    fi</span><br><span class="line">    echo &quot;start stat perf&quot;</span><br><span class="line">    iostat_info &amp;</span><br><span class="line">    iostat_pid=$!</span><br><span class="line">    echo &quot;iostat_pid=&quot;$iostat_pid</span><br><span class="line"></span><br><span class="line">    vmstat_info  &amp;</span><br><span class="line">    vmstat_pid=$!</span><br><span class="line">    echo &quot;vmstat_pid=&quot;$vmstat_pid</span><br><span class="line"></span><br><span class="line">    top_info &amp;</span><br><span class="line">    top_pid=$!</span><br><span class="line">    echo &quot;top_pid=&quot;$top_pid</span><br><span class="line"></span><br><span class="line">    # 如果dstat存在则开启dstat统计</span><br><span class="line">    dstat_pid=&quot;&quot;</span><br><span class="line">    program_exists dstat</span><br><span class="line">    dstat_exist=$?</span><br><span class="line">    if [ $&#123;dstat_exist&#125; -eq 1 ];then</span><br><span class="line">        dstat_info &amp;</span><br><span class="line">        dstat_pid=$!</span><br><span class="line">        echo &quot;dstat_pid=&quot;$dstat_pid</span><br><span class="line">    fi</span><br><span class="line"></span><br><span class="line">    blktrace_pid=&quot;&quot;</span><br><span class="line">    if [ $&#123;BLKTRACE_SWITCH&#125; -eq 1 ];then</span><br><span class="line">        # blktrace 一定要指定磁盘</span><br><span class="line">        if [ $&#123;ARG_IOSTAT_DISK&#125; ];then</span><br><span class="line">            blktrace_info &amp;</span><br><span class="line">            blktrace_pid=$!</span><br><span class="line">            echo &quot;blktrace_pid=&quot;$blktrace_pid</span><br><span class="line">        else</span><br><span class="line">            echo &quot;blktrace need specific device&quot;</span><br><span class="line">        fi</span><br><span class="line">    fi</span><br><span class="line"></span><br><span class="line">    pidstat_pid=&quot;&quot;</span><br><span class="line">    if [ $&#123;PIDSTAT_PROCESS_NAME&#125; ];then</span><br><span class="line">        pidstat_info &amp;</span><br><span class="line">        pidstat_pid=$!</span><br><span class="line">        echo &quot;pidstat_pid=&quot;$pidstat_pid</span><br><span class="line">    fi</span><br><span class="line"></span><br><span class="line">    echo &quot;iostat_pid:$&#123;iostat_pid&#125; vmstat_pid:$&#123;vmstat_pid&#125; top_pid:$&#123;top_pid&#125; dstat_pid:$&#123;dstat_pid&#125; blktrace_pid:$&#123;blktrace_pid&#125; pidstat_pid:$&#123;pidstat_pid&#125;&quot; &gt; $&#123;STAT_PID_FILE&#125;</span><br><span class="line">    echo &quot;start stat perf success&quot;</span><br><span class="line">elif [ &quot;$&#123;SWITCH&#125;&quot; = &quot;stop&quot; ];then</span><br><span class="line">    echo &quot;stop stat perf&quot;</span><br><span class="line">    # 判断pid文件是否存在</span><br><span class="line">    if [ -e $&#123;STAT_PID_FILE&#125; ];then</span><br><span class="line">        for pidname_pid in `cat $&#123;STAT_PID_FILE&#125;`</span><br><span class="line">        do</span><br><span class="line">            pid=$&#123;pidname_pid#*:&#125;</span><br><span class="line">            pidname=$&#123;pidname_pid%:*&#125;</span><br><span class="line">            echo &quot;stop pid:$&#123;pid&#125; pidname:$&#123;pidname&#125;&quot;</span><br><span class="line">            if [ -z $&#123;pid&#125; ];then</span><br><span class="line">                # 如果这种情况不过滤掉，空的pid值会kill掉整个系统的进程</span><br><span class="line">                continue</span><br><span class="line">            fi</span><br><span class="line">            pstree -p $&#123;pid&#125;</span><br><span class="line">            if [ $&#123;pidname&#125; = &quot;blktrace_pid&quot; ];then</span><br><span class="line">                pstree -p $&#123;pid&#125; | awk -F&quot;[()]&quot; &#x27;&#123;for(i=0;i&lt;=NF;i++)if($i~/([0-9])$/)print $i&#125;&#x27; | xargs kill -2 2&gt;/dev/null</span><br><span class="line">            else</span><br><span class="line">                pstree -p $&#123;pid&#125; | awk -F&quot;[()]&quot; &#x27;&#123;for(i=0;i&lt;=NF;i++)if($i~/([0-9])$/)print $i&#125;&#x27; | xargs kill -9 2&gt;/dev/null</span><br><span class="line">            fi</span><br><span class="line">        done</span><br><span class="line">        rm -f $&#123;STAT_PID_FILE&#125;</span><br><span class="line">    fi</span><br><span class="line">    echo &quot;stop stat perf success&quot;</span><br><span class="line">else</span><br><span class="line">    echo &quot;sh stat_perf.sh [start|stop] [output_file_prefix] &amp;&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;使用&lt;code&gt;top&lt;/code&gt;、&lt;code&gt;iostat&lt;/code&gt;、&lt;code&gt;vmstat&lt;/code&gt; 、&lt;code&gt;dstat&lt;/code&gt;、&lt;code&gt;blktrace&lt;/code&gt;、&lt;code&gt;pidstat&lt;/code&gt;监控系统状态信息&lt;/p&gt;</summary>
    
    
    
    <category term="Linux" scheme="https://www.delta1037.cn/categories/Linux/"/>
    
    
    <category term="Linux" scheme="https://www.delta1037.cn/tags/Linux/"/>
    
    <category term="Shell" scheme="https://www.delta1037.cn/tags/Shell/"/>
    
  </entry>
  
  <entry>
    <title>C++ List Shuffle</title>
    <link href="https://www.delta1037.cn/2021/C_C++/C++ListShuffle/"/>
    <id>https://www.delta1037.cn/2021/C_C++/C++ListShuffle/</id>
    <published>2021-05-16T16:00:00.000Z</published>
    <updated>2023-02-12T07:50:51.266Z</updated>
    
    <content type="html"><![CDATA[<p>目前C++只提供了可随机访问的容器的shuffle接口，对于List容器该接口不可用，这里提供一个List shuffle函数模板</p><span id="more"></span><h2 id="一、随机访问容器shuffle"><a href="#一、随机访问容器shuffle" class="headerlink" title="一、随机访问容器shuffle"></a>一、随机访问容器shuffle</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 生成随机种子</span><br><span class="line"><span class="type">unsigned</span> seed = std::chrono::system_clock::<span class="built_in">now</span>().<span class="built_in">time_since_epoch</span>().<span class="built_in">count</span>();</span><br><span class="line"></span><br><span class="line"># 使用默认的随机引擎来打乱容器中的元素</span><br><span class="line">std::<span class="built_in">shuffle</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), std::<span class="built_in">default_random_engine</span>(seed));</span><br></pre></td></tr></table></figure><h2 id="二、List-shuffle函数模板"><a href="#二、List-shuffle函数模板" class="headerlink" title="二、List shuffle函数模板"></a>二、List shuffle函数模板</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt; <span class="keyword">typename</span> T &gt; <span class="function"><span class="type">void</span> <span class="title">list_shuffle</span><span class="params">( std::list&lt;T&gt;&amp; lst )</span> <span class="comment">// shuffle contents of a list</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// create a vector of (wrapped) references to elements in the list</span></span><br><span class="line">    <span class="comment">// http://en.cppreference.com/w/cpp/utility/functional/reference_wrapper</span></span><br><span class="line">    std::vector&lt; std::reference_wrapper&lt; <span class="type">const</span> T &gt; &gt; <span class="built_in">vec</span>( lst.<span class="built_in">begin</span>(), lst.<span class="built_in">end</span>() ) ;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// shuffle (the references in) the vector</span></span><br><span class="line">    std::<span class="built_in">shuffle</span>( vec.<span class="built_in">begin</span>(), vec.<span class="built_in">end</span>(), std::mt19937&#123; std::random_device&#123;&#125;() &#125; ) ;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// copy the shuffled sequence into a new list</span></span><br><span class="line">    std::list&lt;T&gt; shuffled_list &#123;  vec.<span class="built_in">begin</span>(), vec.<span class="built_in">end</span>() &#125; ;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// swap the old list with the shuffled list</span></span><br><span class="line">    lst.<span class="built_in">swap</span>(shuffled_list) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p>【0】 <a href="http://www.cplusplus.com/forum/general/207328/">how to shuffle a list?</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;目前C++只提供了可随机访问的容器的shuffle接口，对于List容器该接口不可用，这里提供一个List shuffle函数模板&lt;/p&gt;</summary>
    
    
    
    <category term="C/C++" scheme="https://www.delta1037.cn/categories/C-C/"/>
    
    
    <category term="C/C++" scheme="https://www.delta1037.cn/tags/C-C/"/>
    
    <category term="STL" scheme="https://www.delta1037.cn/tags/STL/"/>
    
  </entry>
  
  <entry>
    <title>C/C++时间封装</title>
    <link href="https://www.delta1037.cn/2021/C_C++/C-C++%E6%97%B6%E9%97%B4%E5%B0%81%E8%A3%85/"/>
    <id>https://www.delta1037.cn/2021/C_C++/C-C++%E6%97%B6%E9%97%B4%E5%B0%81%E8%A3%85/</id>
    <published>2021-05-16T16:00:00.000Z</published>
    <updated>2023-02-12T07:50:51.414Z</updated>
    
    <content type="html"><![CDATA[<p>以下为封装的获取纳秒，毫秒时间的接口、精确睡眠微秒接口、按照指定频率执行某一个功能的封装和时间转字符串接口。</p><span id="more"></span><h2 id="一、获取时间"><a href="#一、获取时间" class="headerlink" title="一、获取时间"></a><strong>一、获取时间</strong></h2><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">/* 获取NS时间 -9 */</span><br><span class="line">static uint64_t getTimeOfNs() &#123;</span><br><span class="line">    struct timespec tv;</span><br><span class="line">    clock_gettime(CLOCK_REALTIME, &amp;tv);</span><br><span class="line">    return tv.tv_sec*1000000000 + tv.tv_nsec;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 获取MS时间 -3 */</span><br><span class="line">uint64_t get_time_of_ms()</span><br><span class="line">&#123;</span><br><span class="line">    struct timeval tv;</span><br><span class="line">    gettimeofday(&amp;tv, 0);</span><br><span class="line">    return tv.tv_sec * (uint64_t)1000 + tv.tv_usec / 1000;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="二、精确睡眠"><a href="#二、精确睡眠" class="headerlink" title="二、精确睡眠"></a><strong>二、精确睡眠</strong></h2><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">/* 精确睡眠US时间 */</span><br><span class="line">static void sleepUS(uint64_t usec)&#123;</span><br><span class="line">    struct timeval tv;</span><br><span class="line">    tv.tv_sec = usec / 1000000UL;</span><br><span class="line">    tv.tv_usec = usec % 1000000UL;</span><br><span class="line">    errno = 0;</span><br><span class="line">    select(0, 0, 0, NULL, &amp;tv);</span><br><span class="line">    if (errno != 0)&#123;</span><br><span class="line">        // error</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="三、按照指定频率执行"><a href="#三、按照指定频率执行" class="headerlink" title="三、按照指定频率执行"></a><strong>三、按照指定频率执行</strong></h2><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">int freq_op(int freq)</span><br><span class="line">&#123;</span><br><span class="line">    uint64_t freq_interval_ns = uint64_t(1000000000/freq)</span><br><span class="line">    uint64_t start_time_ns = getTimeOfNs();</span><br><span class="line">    uint64_t do_times_count = 0;</span><br><span class="line">    while(true)</span><br><span class="line">    &#123;</span><br><span class="line">        // do some thing</span><br><span class="line">        do_times_count++;</span><br><span class="line"></span><br><span class="line">        // 得到从开始到现在的运行总时间；计算睡眠时间</span><br><span class="line">        uint64_t run_time_ns = getTimeOfNs() - start_time_ns;</span><br><span class="line">        uint64_t do_times_should = uint64_t(run_time_ns/freq_interval_ns);</span><br><span class="line">        if(do_times_count &gt; do_times_should)</span><br><span class="line">        &#123;</span><br><span class="line">            // 用到了上面精确睡眠的函数</span><br><span class="line">            sleepUS((do_times_count - do_times_should) * freq_interval_ns -  - run_time_ns % freq_interval_ns);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="四、秒转换为时间字符串"><a href="#四、秒转换为时间字符串" class="headerlink" title="四、秒转换为时间字符串"></a><strong>四、秒转换为时间字符串</strong></h2><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">/* 将时间秒计数转换成 dd:hh:mm:ss的格式 */</span><br><span class="line">void scaleDownTime(uint64_t s_time, std::string &amp;time)</span><br><span class="line">&#123;</span><br><span class="line">    char buffer[128];</span><br><span class="line">    int d = 0;</span><br><span class="line">    int h = 0;</span><br><span class="line">    int m = 0;</span><br><span class="line">    int s = 0;</span><br><span class="line"></span><br><span class="line">    if(s_time &gt;= 3600 * 24)&#123;</span><br><span class="line">        d = s_time / (3600 * 24);</span><br><span class="line">        s_time = s_time % (3600 * 24);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if(s_time &gt;= 3600)&#123;</span><br><span class="line">        h = s_time / 3600;</span><br><span class="line">        s_time = s_time % 3600;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if(s_time &gt;= 60)&#123;</span><br><span class="line">        m = s_time / 60;</span><br><span class="line">        s_time = s_time % 60;</span><br><span class="line">    &#125;</span><br><span class="line">    s = s_time;</span><br><span class="line">    if(d &gt; 0)&#123;</span><br><span class="line">        int size = snprintf(buffer, 128, &quot;%dd %02d:%02d:%02d&quot;, d, h, m, s);</span><br><span class="line">        buffer[size] = &#x27;\0&#x27;;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        int size = snprintf(buffer, 128, &quot;%02d:%02d:%02d&quot;, h, m, s);</span><br><span class="line">        buffer[size] = &#x27;\0&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">    time = std::string(buffer);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;以下为封装的获取纳秒，毫秒时间的接口、精确睡眠微秒接口、按照指定频率执行某一个功能的封装和时间转字符串接口。&lt;/p&gt;</summary>
    
    
    
    <category term="C/C++" scheme="https://www.delta1037.cn/categories/C-C/"/>
    
    
    <category term="C/C++" scheme="https://www.delta1037.cn/tags/C-C/"/>
    
    <category term="封装" scheme="https://www.delta1037.cn/tags/%E5%B0%81%E8%A3%85/"/>
    
  </entry>
  
  <entry>
    <title>动态库文件的装载</title>
    <link href="https://www.delta1037.cn/2021/C_C++/%E5%8A%A8%E6%80%81%E5%BA%93%E6%96%87%E4%BB%B6%E7%9A%84%E8%A3%85%E8%BD%BD/"/>
    <id>https://www.delta1037.cn/2021/C_C++/%E5%8A%A8%E6%80%81%E5%BA%93%E6%96%87%E4%BB%B6%E7%9A%84%E8%A3%85%E8%BD%BD/</id>
    <published>2021-05-16T16:00:00.000Z</published>
    <updated>2023-02-12T07:50:51.268Z</updated>
    
    <content type="html"><![CDATA[<p>动态库状态过程的细节，待整理</p><span id="more"></span><p>动态符号表（.dynsym）是一个符号集，保存动态链接相关的符号，这些符号对于运行时的动态对象是可见的。在动态链接过程中，如果发现未定义的动态符号，链接器会把动态符号加入到动态符号表。但是我们的插件是显示地运行时链接的（为了减少与主程序的耦合），不可能在编译过程中就动态链接到对应的插件库，所以只能主动导出插件中使用的未定义的符号（注册与反注册符号）到动态符号表中，所以在编译主程序时，使用-Wl,-E（-Wl,–export-dynamic）链接器参数将主程序中所有的符号导出到动态符号表中。这样在使用dlopen打开插件动态库时，插件动态库中相关的注册和反注册接口符号在主程序的动态符号表中就有了定义，于是就可以正常运行了。<br>使用readelf –dyn-syms + 可执行文件或动态库可以查看可执行文件或者动态库中的动态符号表。本例中动态库中动态符号表部分内容如下：<br>Symbol table ‘.dynsym’ contains 22 entries:<br>   Num:    Value          Size Type    Bind   Vis      Ndx Name<br>     1: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND _Z19unregister_ioengineP1<br>     2: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:&#x70;&#114;&#105;&#110;&#x74;&#102;&#x40;&#x47;&#76;&#x49;&#x42;&#67;&#95;&#50;&#x2e;&#50;&#46;&#x35;">&#x70;&#114;&#105;&#110;&#x74;&#102;&#x40;&#x47;&#76;&#x49;&#x42;&#67;&#95;&#50;&#x2e;&#50;&#46;&#x35;</a> (2)<br>    11: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND _Z17register_ioengineP11I<br>    13: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:&#112;&#116;&#x68;&#x72;&#x65;&#x61;&#100;&#95;&#x73;&#101;&#x6c;&#102;&#x40;&#x47;&#76;&#x49;&#x42;&#x43;&#95;&#x32;&#46;&#x32;&#46;&#53;">&#112;&#116;&#x68;&#x72;&#x65;&#x61;&#100;&#95;&#x73;&#101;&#x6c;&#102;&#x40;&#x47;&#76;&#x49;&#x42;&#x43;&#95;&#x32;&#46;&#x32;&#46;&#53;</a> (3)<br>    14: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:&#x70;&#x72;&#101;&#97;&#x64;&#x36;&#52;&#64;&#x47;&#76;&#x49;&#x42;&#67;&#95;&#x32;&#46;&#50;&#x2e;&#x35;">&#x70;&#x72;&#101;&#97;&#x64;&#x36;&#52;&#64;&#x47;&#76;&#x49;&#x42;&#67;&#95;&#x32;&#46;&#50;&#x2e;&#x35;</a> (3)<br>    15: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:&#112;&#119;&#x72;&#105;&#116;&#101;&#54;&#52;&#64;&#71;&#x4c;&#73;&#x42;&#x43;&#95;&#x32;&#46;&#50;&#x2e;&#53;">&#112;&#119;&#x72;&#105;&#116;&#101;&#54;&#52;&#64;&#71;&#x4c;&#73;&#x42;&#x43;&#95;&#x32;&#46;&#50;&#x2e;&#53;</a> (3)<br>    16: 0000000000202080    80 OBJECT  GLOBAL DEFAULT   24 ioengine<br>从中可以看出注册和反注册接口、以及调用glic库中的符号的是未定义（UND）状态，需要在加载时确定这些符号的位置，glic库相关的符号在加载glic库时完成确定，注册与反注册则需要在主程序中确定位置，所以主程序的动态符号表必须有这两个符号的定义。<br>主程序在未加-Wl,-E参数编译时，动态符号表内容如下：<br>Symbol table ‘.dynsym’ contains 87 entries:<br>   Num:    Value          Size Type    Bind   Vis      Ndx Name<br>     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND<br>     1: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:&#x5f;&#90;&#78;&#x53;&#x73;&#x61;&#83;&#x45;&#x50;&#75;&#x63;&#x40;&#71;&#x4c;&#x49;&#x42;&#x43;&#x58;&#x58;&#95;&#x33;&#x2e;&#x34;">&#x5f;&#90;&#78;&#x53;&#x73;&#x61;&#83;&#x45;&#x50;&#75;&#x63;&#x40;&#71;&#x4c;&#x49;&#x42;&#x43;&#x58;&#x58;&#95;&#x33;&#x2e;&#x34;</a> (2)<br>     2: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:&#95;&#90;&#78;&#x53;&#115;&#x43;&#x31;&#x45;&#118;&#64;&#x47;&#76;&#x49;&#66;&#x43;&#88;&#x58;&#95;&#x33;&#46;&#52;">&#95;&#90;&#78;&#x53;&#115;&#x43;&#x31;&#x45;&#118;&#64;&#x47;&#76;&#x49;&#66;&#x43;&#88;&#x58;&#95;&#x33;&#46;&#52;</a> (2)<br>     3: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:&#112;&#114;&#105;&#x6e;&#x74;&#102;&#64;&#71;&#x4c;&#73;&#x42;&#67;&#x5f;&#50;&#46;&#50;&#46;&#53;">&#112;&#114;&#105;&#x6e;&#x74;&#102;&#64;&#71;&#x4c;&#73;&#x42;&#67;&#x5f;&#50;&#46;&#50;&#46;&#53;</a> (3)<br>     4: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:&#x5f;&#90;&#x53;&#x74;&#x32;&#49;&#95;&#95;&#x74;&#104;&#114;&#x6f;&#119;&#95;&#x72;&#x75;&#x6e;&#x74;&#x69;&#x6d;&#x65;&#95;&#x65;&#x72;&#114;&#x40;&#x47;&#x4c;&#x49;&#x42;&#67;&#x58;&#88;&#x5f;&#51;&#x2e;&#x34;">&#x5f;&#90;&#x53;&#x74;&#x32;&#49;&#95;&#95;&#x74;&#104;&#114;&#x6f;&#119;&#95;&#x72;&#x75;&#x6e;&#x74;&#x69;&#x6d;&#x65;&#95;&#x65;&#x72;&#114;&#x40;&#x47;&#x4c;&#x49;&#x42;&#67;&#x58;&#88;&#x5f;&#51;&#x2e;&#x34;</a> (2)<br>     5: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:&#115;&#110;&#112;&#114;&#105;&#110;&#116;&#x66;&#x40;&#71;&#x4c;&#x49;&#66;&#x43;&#95;&#x32;&#46;&#x32;&#x2e;&#53;">&#115;&#110;&#112;&#114;&#105;&#110;&#116;&#x66;&#x40;&#71;&#x4c;&#x49;&#66;&#x43;&#95;&#x32;&#46;&#x32;&#x2e;&#53;</a> (3)<br>其中只包含一些调用其它动态库的动态符号内容，像glibc库这些第三方库中的符号。</p><p>主程序在添加-Wl,-E参数编译时，动态符号表内容过多，添加grep过滤（readelf –dyn-syms main_prj | grep register）可得：<br>240: 0000000000410dd5   218 FUNC    GLOBAL DEFAULT   14 _Z17register_ioengineP11I<br>    596: 0000000000410eaf   211 FUNC    GLOBAL DEFAULT   14 _Z19unregister_ioengineP1<br>可以看出在使用了-Wl,-E参数后，动态符号表中多出了一些主程序中内部函数的符号，包含插件注册与反注册接口的符号（符号修饰名与插件中的修饰名一致）。</p><p>参考：<br>.dynsym：动态符号表：保存动态链接相关的导入导出的符号，不包括模块内部符号<br>.dynsym默认会导出使用其它动态链接库的符号<br>主程序在编译时默认只会导出未定义的符号（将来从动态库中加载）和动态库中定义了并且被使用的符号（定义了函数定义，并有实现和调用）。不会导出有定义但是没有使用的符号。<br>所以当插件需要向主程序注册时，主程序中需要有注册函数符号，才能被插件调用。<br>gcc编译使用-Wl,-E参数可以导出所有符号。<br>主程序加载动态库时，动态符号表会进行合并<br>合并到GOT表<br>显式运行时链接<br>查看动态符号表：readelf –dyn-syms plugin_test<br>待补充的内容：动态表是怎么链接到一起的，动态库加载的时候做了什么？<br>动态链接过程中如果发现未定义的动态符号，链接器会把动态符号加入动态符号表（所以第一个例子中，程序输出正常），但是fun符号因为是在dlopen中（dlopen发生在运行过程中）调用的，不会加入到动态符号表，所以导致找不到符号。<br>-E’–export-dynamic’<br>当创建一个动态连接的可执行程序时, 把所有的符号加到动态符号表中.动态符号表是一个符号集,这些符号对于运行时的动态对象是可见的.<br>如果你不使用这个选项,动态符号表中就会只含有那些连接进来的动态对象中用到的符号</p><p>如果你使用’dlopen’来载入动态对象,它需要引用程序中的符号,那你可能需要在连接程序时用到这个选项.你也可以使用版本脚本来控制哪些符号应当被加到动态符号表中.</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;动态库状态过程的细节，待整理&lt;/p&gt;</summary>
    
    
    
    <category term="C/C++" scheme="https://www.delta1037.cn/categories/C-C/"/>
    
    
    <category term="C/C++" scheme="https://www.delta1037.cn/tags/C-C/"/>
    
    <category term="编译" scheme="https://www.delta1037.cn/tags/%E7%BC%96%E8%AF%91/"/>
    
  </entry>
  
  <entry>
    <title>深入理解Linux内核-绪论</title>
    <link href="https://www.delta1037.cn/2021/Linux/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Linux%E5%86%85%E6%A0%B8-%E7%BB%AA%E8%AE%BA/"/>
    <id>https://www.delta1037.cn/2021/Linux/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Linux%E5%86%85%E6%A0%B8-%E7%BB%AA%E8%AE%BA/</id>
    <published>2021-03-19T16:00:00.000Z</published>
    <updated>2023-02-12T07:50:51.441Z</updated>
    
    <content type="html"><![CDATA[<p>深入理解Linux内核-绪论</p><span id="more"></span><h2 id="一、Linux与类Unix内核的比较"><a href="#一、Linux与类Unix内核的比较" class="headerlink" title="一、Linux与类Unix内核的比较"></a><strong>一、Linux与类Unix内核的比较</strong></h2><ul><li>大部分Unix是单块结构的内核，不支持按需装载和卸载模块</li><li>Unix内核被组织成一组内核线程；Linux以十分有限的方式使用内核线程周期地执行几个内核函数</li><li>Unix内核地轻量级线程（LWP，lightweight process）基于内核线程；Linux把轻量级进程当作基本地执上下文</li></ul><h2 id="二、操作系统基本概念"><a href="#二、操作系统基本概念" class="headerlink" title="二、操作系统基本概念"></a><strong>二、操作系统基本概念</strong></h2><h3 id="2-1-多用户系统"><a href="#2-1-多用户系统" class="headerlink" title="2.1 多用户系统"></a><strong>2.1 多用户系统</strong></h3><p>多用户系统是一台能并发和独立地执行分别属于两个或者多个用户地若干应用程序地计算机</p><p>多用户系统的特点：</p><ul><li>核实用户身份的认证机制</li><li>防止有错误的用户程序妨碍其它应用程序再系统中运行的保护机制</li><li>防止有恶意用户程序干涉或者窥视其它用户的活动的保护机制</li><li>限制分配给每个用户的资源数的记账机制</li></ul><h3 id="2-2-用户和组"><a href="#2-2-用户和组" class="headerlink" title="2.2 用户和组"></a><strong>2.2 用户和组</strong></h3><p>在多用户系统中，每个用户都有私有空间。所有的用户用唯一的数字标识，这个数字叫用户标识符（User ID，UID）；为了能和其他用户选择性地共享资料，每个用户是一个或者多个用户组的成员，由唯一的用户组标识符标识（User Group ID）。每一个文件恰好与一个组相对应，例如可以设置文件的拥有者有文件的读写权限，同组的用户具有可读权限，从而实现了文件与其它用户的共享。</p><h3 id="2-3-进程"><a href="#2-3-进程" class="headerlink" title="2.3 进程"></a><strong>2.3 进程</strong></h3><p>定义：程序执行的一个实例，或者一个运行程序的上下文</p><h3 id="2-4-内核体系结构"><a href="#2-4-内核体系结构" class="headerlink" title="2.4 内核体系结构"></a><strong>2.4 内核体系结构</strong></h3><p>大多数Unix内核是单块结构：每一个内核层都集成到整个内核程序中，并代表当前进程在内核态下运行。微内核操作系统只需要内核有一个很小的函数集，运行在微内核之上的几个系统进程实现从前操作系统级实现的功能（内存分配、设备驱动程序和系统调用处理程序）</p><h3 id="2-5-文件类型"><a href="#2-5-文件类型" class="headerlink" title="2.5 文件类型"></a><strong>2.5 文件类型</strong></h3><ul><li>普通文件</li><li>目录</li><li>符号链接</li><li>面向块的设备文件</li><li>面向字符的设备文件</li><li>管道和命名管道</li><li>套接字</li></ul><h3 id="2-6-文件描述符与索引节点"><a href="#2-6-文件描述符与索引节点" class="headerlink" title="2.6 文件描述符与索引节点"></a><strong>2.6 文件描述符与索引节点</strong></h3><p>索引节点至少提供以下属性：</p><ul><li>文件类型</li><li>与文件相关的硬链接个数</li><li>以字节为单位的文件长度</li><li>设备标识符</li><li>在文件系统中标识文件的索引节点号</li><li>文件拥有者的UID</li><li>文件的用户组ID</li><li>几个时间戳，表示索引节点状态改变的时间、最后访问时间和最后修改时间</li><li>访问权限和文件模式</li></ul><h3 id="2-7-访问权限和文件模式"><a href="#2-7-访问权限和文件模式" class="headerlink" title="2.7 访问权限和文件模式"></a><strong>2.7 访问权限和文件模式</strong></h3><p>文件潜在的用户：</p><ul><li>文件的拥有者</li><li>同组用户，不包括拥有者</li><li>剩下的所有用户</li></ul><p>有三种类型的访问权限：读、写和执行，每组用户都有三种权限，所以文件权限的组合就用9种不同的二进制来标记。还有三种附加的标记，即suid（Set User ID），sgid（Set Group ID）和sticky定义文件的模式。</p><p>当附加的标记应用到可执行文件时有如下含义：</p><ul><li>suid：进程执行一个文件时通常保持进程拥有者的UID。然而如果设置了可执行文件的suid标志位，进程就获得 了该文件拥有者的UID。</li><li>sgid：进程执行一个文件时通常保持进程组的用户组ID。然而如果设置了可执行文件的sgid标志位，进程就获得 了该文件用户组的ID。</li><li>sticky：设置了sticky的可执行文件相当于向内核发出了一个请求，当程序结束以后，依然将它保留在内存。</li></ul><h3 id="2-8-文件操作的系统调用"><a href="#2-8-文件操作的系统调用" class="headerlink" title="2.8 文件操作的系统调用"></a><strong>2.8 文件操作的系统调用</strong></h3><ul><li>打开文件：open()</li><li>访问打开的文件：lseek()&#x2F;read()&#x2F;write()</li><li>关闭文件：close()</li><li>更名文件：rename()</li><li>删除文件：unlink()</li></ul><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a><strong>参考</strong></h2><p>【0】 《深入理解LINUX内核》</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;深入理解Linux内核-绪论&lt;/p&gt;</summary>
    
    
    
    <category term="Linux" scheme="https://www.delta1037.cn/categories/Linux/"/>
    
    
    <category term="Linux" scheme="https://www.delta1037.cn/tags/Linux/"/>
    
    <category term="Kernel" scheme="https://www.delta1037.cn/tags/Kernel/"/>
    
  </entry>
  
  <entry>
    <title>C/C++插件式设计</title>
    <link href="https://www.delta1037.cn/2021/C_C++/C-C++%E6%8F%92%E4%BB%B6%E5%BC%8F%E8%AE%BE%E8%AE%A1/"/>
    <id>https://www.delta1037.cn/2021/C_C++/C-C++%E6%8F%92%E4%BB%B6%E5%BC%8F%E8%AE%BE%E8%AE%A1/</id>
    <published>2021-03-11T16:00:00.000Z</published>
    <updated>2023-02-12T07:50:51.266Z</updated>
    
    <content type="html"><![CDATA[<p>Fio中的插件式设计分析，抽取出来一份模板。</p><span id="more"></span><h2 id="一、设计来源"><a href="#一、设计来源" class="headerlink" title="一、设计来源"></a><strong>一、设计来源</strong></h2><p>并不是我设计的哈哈哈哈~</p><p>最近看fio的源代码，学习了一波fio中关于IO引擎的插件式设计，对重要的一些部分做了摘要。以下是我的总结，其中有一些是我的猜测，有待验证</p><p>名词解释：</p><table><thead><tr><th><strong>名词</strong></th><th><strong>解释</strong></th></tr></thead><tbody><tr><td>主程序</td><td>调用插件的程序</td></tr><tr><td>插件</td><td>可以被方便地替换地部分</td></tr></tbody></table><h2 id="二、插件与主程序的结构关联"><a href="#二、插件与主程序的结构关联" class="headerlink" title="二、插件与主程序的结构关联"></a><strong>二、插件与主程序的结构关联</strong></h2><p>主程序如果想使用插件中的函数，则需要知道插件中对应函数的地址，所以我们可以定义一个结构体集合，用来保存插件提供函数的地址，和其它相关内容。在使用插件时我们只要找到了该结构体的位置，就相当于找到了插件中提供的函数的位置。例如</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">struct PluginStruct &#123;</span><br><span class="line">    char *plugin_name;</span><br><span class="line">    int plugin_version;</span><br><span class="line"></span><br><span class="line">    int (*init)(struct thread_data *);</span><br><span class="line">    int (*uninit)(struct thread_data *);</span><br><span class="line"></span><br><span class="line">    int (*io_write)(struct thread_data *, struct io_unit*);</span><br><span class="line">    int (*io_read)(struct thread_data *, struct io_unit*);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>在本例中，我们准备做一个读写文件的插件，插件一使用<code>write/read</code>方式读写；插件二使用<code>pwrite/pread</code>方式读写。如上述结构体中：<code>init</code>和<code>uninit</code>是插件的初始化和反初始化，<code>io_write</code>和<code>io_read</code>是对读写接口的封装。</p><p>插件可能是由多线程来调用的，为了表明这一点，插件接口的参数中使用结构体<code>struct thread_data</code>来表示每个线程的私有数据（fio中也是用的thread_data）。</p><p>插件中也可能想保存私有数据，但是由于不知道有多少线程会使用该插件，所以只能将数据保存到结构体<code>struct thread_data</code>中<code>plugin_data</code>，然后在插件中做类型转换，结构体<code>struct thread_data</code>只是作为私有数据的<code>plugin_data</code>承载作用，私有数据<code>plugin_data</code>在<code>init</code>和<code>uninit</code>中分别申请空间和释放空间，对于外部来说可以做到‘神不知，鬼不觉’。</p><p>为了能够做到基本的数据读写，结构体<code>struct thread_data</code>和<code>struct io_unit</code>定义如下</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">/* 文件属性，用于保存每个线程操作的文件信息 */</span><br><span class="line">struct FileAttr &#123;</span><br><span class="line">    char *file_name;</span><br><span class="line">    int fd;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">/* 线程数据，保存一个线程用到的所有数据 */</span><br><span class="line">struct thread_data &#123;</span><br><span class="line">    /* some thread private data */</span><br><span class="line">    int thread_id;</span><br><span class="line">    pthread_t thread_handle;</span><br><span class="line"></span><br><span class="line">    struct PluginStruct *plugin_struct; // 通过该变量访问插件中的函数地址</span><br><span class="line">    void *plugin_private_data;</span><br><span class="line"></span><br><span class="line">    struct FileAttr *file_attr;         // 保存该线程用到的文件信息</span><br><span class="line"></span><br><span class="line">    void *plugin_dll_handle;            // 共享库句柄</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">/* io操作单元，一次IO操作必要的信息 */</span><br><span class="line">struct io_unit &#123;</span><br><span class="line">    void *buffer;   // 缓冲区地址</span><br><span class="line">    uint64_t size;  // 读写大小</span><br><span class="line">    uint64_t offset;// 读写偏移</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>以上的结构体均定义在主程序头文件中，插件只是使用这些结构体类型，或访问内存中的值，或定义变量。</p><p>完整的插件需要包含的主程序头文件<code>plugin.h</code>定义如下</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">// plugin.h</span><br><span class="line"></span><br><span class="line">// 插件在加载和关闭时，自动调用的构造函数和析构函数 标识？</span><br><span class="line">#define plugin_init __attribute__((constructor))</span><br><span class="line">#define plugin_exit __attribute__((destructor))</span><br><span class="line"></span><br><span class="line">/* 文件属性，用于保存每个线程操作的文件信息 */</span><br><span class="line">struct FileAttr &#123;</span><br><span class="line">    char *file_name;</span><br><span class="line">    int fd;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">/* 线程数据，保存一个线程用到的所有数据 */</span><br><span class="line">struct thread_data &#123;</span><br><span class="line">    /* some thread private data */</span><br><span class="line">    int thread_id;</span><br><span class="line">    pthread_t thread_handle;</span><br><span class="line"></span><br><span class="line">    struct PluginStruct *plugin_struct; // 通过该变量访问插件中的函数地址</span><br><span class="line">    void *plugin_private_data;</span><br><span class="line"></span><br><span class="line">    struct FileAttr *file_attr;         // 保存该线程用到的文件信息</span><br><span class="line"></span><br><span class="line">    void *plugin_dll_handle;            // 共享库句柄</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">/* io操作单元，一次IO操作必要的信息 */</span><br><span class="line">struct io_unit &#123;</span><br><span class="line">    void *buffer;   // 缓冲区地址</span><br><span class="line">    uint64_t size;  // 读写大小</span><br><span class="line">    uint64_t offset;// 读写偏移</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">struct PluginStruct &#123;</span><br><span class="line">    char *plugin_name;</span><br><span class="line">    int plugin_version;</span><br><span class="line"></span><br><span class="line">    int (*init)(struct thread_data *);</span><br><span class="line">    int (*uninit)(struct thread_data *);</span><br><span class="line"></span><br><span class="line">    int (*io_write)(struct thread_data *, struct io_unit*);</span><br><span class="line">    int (*io_read)(struct thread_data *, struct io_unit*);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// 插件向主程序注册和反注册接口</span><br><span class="line">extern void plugin_register(struct PluginStruct *);</span><br><span class="line">extern void plugin_unregister(struct PluginStruct *);</span><br></pre></td></tr></table></figure><h2 id="三、插件向主程序注册-x2F-主程序主动加载插件"><a href="#三、插件向主程序注册-x2F-主程序主动加载插件" class="headerlink" title="三、插件向主程序注册&#x2F;主程序主动加载插件"></a><strong>三、插件向主程序注册&#x2F;主程序主动加载插件</strong></h2><p>fio中IO引擎的注册包含了两种，（<strong>猜测</strong>是为了防止其中一种失败，然后采用另一种方式）。</p><p>主程序主动加载插件方式是主程序通过<code>dlopen()</code>、<code>dlsym()</code>和<code>dlclose()</code>系列函数完成插件中<code>struct PluginStruct</code>结构体变量的加载，从而获取到插件中相应函数的地址；插件向主程序注册方式是主程序在加载插件动态库时，自动调用某些”构造函数”，而在构造函数中调用主程序的注册函数可以完成插件的注册。</p><p>插件程序定义如下：</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">// plugin_1.c</span><br><span class="line"></span><br><span class="line">/* 包含定义插件必须的头文件 */</span><br><span class="line">#include &quot;plugin.h&quot;</span><br><span class="line"></span><br><span class="line">// 插件私有变量定义</span><br><span class="line">struct plugin_private_data &#123;</span><br><span class="line">    // some private data</span><br><span class="line">    int write_call_times;</span><br><span class="line">    int read_call_times;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">static int plugin_1_init(struct thread_data *td)</span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">static int plugin_1_uninit(struct thread_data *td)</span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">static int plugin_1_io_read(struct thread_data *td, struct io_unit *io_u)</span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">static int plugin_1_io_write(struct thread_data *td, struct io_unit *io_u)</span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 注册所有本插件的相关函数到插件结构体中</span><br><span class="line">struct PluginStruct plugin = &#123;</span><br><span class="line">    .plugin_name        = &quot;plugin_1&quot;,</span><br><span class="line">    .plugin_version     = 1,</span><br><span class="line">    .init               = plugin_1_uninit,</span><br><span class="line">    .uninit             = plugin_1_uninit,</span><br><span class="line">    .io_write           = plugin_1_io_write,</span><br><span class="line">    .io_read            = plugin_1_io_read,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// 插件动态库在加载时会自动调用该函数，因为plugin_init的原因</span><br><span class="line">static void plugin_init plugin_1_auto_register()&#123;</span><br><span class="line">    plugin_register(&amp;plugin);</span><br><span class="line">&#125;</span><br><span class="line">// 插件动态库在关闭时会自动调用该函数</span><br><span class="line">static void plugin_exit plugin_1_auto_unregister()&#123;</span><br><span class="line">    plugin_unregister(&amp;plugin);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-1-主程序主动加载插件"><a href="#3-1-主程序主动加载插件" class="headerlink" title="3.1 主程序主动加载插件"></a><strong>3.1 主程序主动加载插件</strong></h3><p>主程序通过<code>dlopen()</code>、<code>dlsym()</code>和<code>dlclose()</code>系列函数完成插件中<code>plugin</code>变量的加载，从而完成插件的注册，这种方式的前提是插件中一定定义了<code>plugin</code>变量，否则无法完成插件的加载。</p><p>主动加载示例如下：</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// plugin.c</span><br><span class="line"></span><br><span class="line">static PluginStruct* load_plugin(struct thread_data *td, char *plugin_dll_path)&#123;</span><br><span class="line">    struct PluginStruct *plugin;</span><br><span class="line">    void *dll_handle = dlopen(plugin_dll_path, RTLD_LAZY);</span><br><span class="line">    if (!dll_handle) &#123;</span><br><span class="line">        return NULL;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    plugin = dlsym(dll_handle, plugin_dll_path); // 这是啥？</span><br><span class="line">    if (!plugin)&#123;</span><br><span class="line">        plugin = dlsym(dll_handle, &quot;plugin&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    return plugin;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-2-插件向主程序注册"><a href="#3-2-插件向主程序注册" class="headerlink" title="3.2 插件向主程序注册"></a><strong>3.2 插件向主程序注册</strong></h3><p>插件中需要定义的代码如下：</p><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// plugin_1.c</span><br><span class="line"></span><br><span class="line">// 插件动态库在加载时会自动调用该函数，因为plugin_init的原因</span><br><span class="line">static void plugin_init plugin_1_auto_register()&#123;</span><br><span class="line">    plugin_register(&amp;plugin);</span><br><span class="line">&#125;</span><br><span class="line">// 插件动态库在关闭时会自动调用该函数</span><br><span class="line">static void plugin_exit plugin_1_auto_unregister()&#123;</span><br><span class="line">    plugin_unregister(&amp;plugin);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;Fio中的插件式设计分析，抽取出来一份模板。&lt;/p&gt;</summary>
    
    
    
    <category term="C/C++" scheme="https://www.delta1037.cn/categories/C-C/"/>
    
    
    <category term="C/C++" scheme="https://www.delta1037.cn/tags/C-C/"/>
    
    <category term="程序设计" scheme="https://www.delta1037.cn/tags/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/"/>
    
  </entry>
  
</feed>
